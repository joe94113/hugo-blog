<!DOCTYPE html>
<html lang="zh-tw"><head>
  <meta charset="utf-8">
  <title>Joe&#39;s Blog</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="PHP學習筆記">
  <meta name="author" content="Joe">
  <meta name="generator" content="Hugo 0.68.3" />

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://hugo-blog-gamma.vercel.app/plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="https://hugo-blog-gamma.vercel.app/plugins/slick/slick.css ">
  
  <link rel="stylesheet" href="https://hugo-blog-gamma.vercel.app/plugins/themify-icons/themify-icons.css ">
  
  <link rel="stylesheet" href="https://hugo-blog-gamma.vercel.app/plugins/venobox/venobox.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://hugo-blog-gamma.vercel.app/scss/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="https://hugo-blog-gamma.vercel.app/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="https://hugo-blog-gamma.vercel.app/images/favicon.png " type="image/x-icon">

  
</head><body>
<!-- preloader start -->
<div class="preloader">
  
</div>
<!-- preloader end -->
<!-- navigation -->
<header class="navigation">
  <div class="container">
    
    <nav class="navbar navbar-expand-lg navbar-white bg-transparent border-bottom pl-0">
      <a class="navbar-brand mobile-view" href="https://hugo-blog-gamma.vercel.app/"><img class="img-fluid"
          src="https://hugo-blog-gamma.vercel.app/images/joelogo.png" alt="Joe&#39;s Blog"></a>
      <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
        <i class="ti-menu h3"></i>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <div class="desktop-view">
          <ul class="navbar-nav mr-auto">
            
            <li class="nav-item">
              <a class="nav-link" href="https://www.facebook.com/Blizzardsumme/"><i class="ti-facebook"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://www.instagram.com/guan___zhi/?hl=zh-tw"><i class="ti-instagram"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/joe94113"><i class="ti-github"></i></a>
            </li>
            
          </ul>
        </div>

        <a class="navbar-brand mx-auto desktop-view" href="https://hugo-blog-gamma.vercel.app/"><img class="img-fluid"
            src="https://hugo-blog-gamma.vercel.app/images/joelogo.png" alt="Joe&#39;s Blog"></a>

        <ul class="navbar-nav">
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://joe94113.github.io/">新站位置</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://hugo-blog-gamma.vercel.app/about">About</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://hugo-blog-gamma.vercel.app/timeline">timeline</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://hugo-blog-gamma.vercel.app/game">Game</a>
          </li>
          
          
        </ul>

        
        <!-- search -->
        <div class="search pl-lg-4">
          <button id="searchOpen" class="search-btn"><i class="ti-search"></i></button>
          <div class="search-wrapper">
            <form action="https://hugo-blog-gamma.vercel.app//search" class="h-100">
              <input class="search-box px-4" id="search-query" name="s" type="search" placeholder="Type & Hit Enter...">
            </form>
            <button id="searchClose" class="search-close"><i class="ti-close text-dark"></i></button>
          </div>
        </div>
        

        
      </div>
    </nav>
  </div>
</header>
<!-- /navigation -->

<section class="section-sm">
  <div class="container">
    <div class="row">
      <div class="col-lg-10 mx-auto">
        
        <a href="/categories/php"
          class="text-primary">P h p</a>
        
        <h2>PHP學習筆記(持續更新中)</h2>
        <div class="mb-3 post-meta">
          <span>By Joe</span>
          
          <span class="border-bottom border-primary px-2 mx-1"></span>
          <span>05 October 2021</span>
          
        </div>
        
        <img src="https://s3.ap-northeast-1.wasabisys.com/img.tw511.com/202007/5e268989b1fa4782iicm13wlgpv.jpg" class="img-fluid w-100 mb-4" alt="PHP學習筆記(持續更新中)">
        
        <div class="content mb-5">
          <h1 id="php-學習筆記持續更新中">PHP 學習筆記(持續更新中)</h1>
<h2 id="php-的資料型態">PHP 的資料型態</h2>
<h3 id="bollean-布林值">Bollean 布林值</h3>
<p>算是最簡單的資料型態，可以為 true 跟 false 不區分大小寫。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$foo</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">true</span>; <span style="color:#60a0b0;font-style:italic">// 設置foo變數為true
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>常用在判斷式</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#60a0b0;font-style:italic">// 兩個等於代表操作符，檢測兩個遍量是否相等，返回布林值
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">if</span> (<span style="color:#bb60d5">$password</span> <span style="color:#666">==</span> <span style="color:#4070a0">&#39;123&#39;</span>){
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#39;pass&#39;</span>;
}

<span style="color:#60a0b0;font-style:italic">// 這樣寫是不必要的
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">if</span> (<span style="color:#bb60d5">$check</span> <span style="color:#666">==</span> <span style="color:#007020;font-weight:bold">true</span>){
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#39;check in&#39;</span>;
}

<span style="color:#60a0b0;font-style:italic">// 可以使用以下方式
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">if</span> (<span style="color:#bb60d5">$check</span>){
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#39;check in&#39;</span>;
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="integer-整數型態">Integer 整數型態</h3>
<p>整型值 int 可以使用十进制，十六进制，八进制或二进制表示，前面可以加上可選的符號（- 或者 +）。 可以用負運算符 来表示一个負的 int。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#40a070">10</span>; <span style="color:#60a0b0;font-style:italic">// 十進位
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#40a070">012</span>; <span style="color:#60a0b0;font-style:italic">// 八進位 (等於十進位 10)
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#40a070">0xa</span>; <span style="color:#60a0b0;font-style:italic">// 十六進位 (等于十進制 10)
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#40a070">0</span>b1010; <span style="color:#60a0b0;font-style:italic">// 二進制数字 (等于十進制 10)
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#40a070">1</span>_0_1_0_; <span style="color:#60a0b0;font-style:italic">// 整型数值 (PHP 7.4.0 以后)輸出1010
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>整數溢出，如果超過 int 範圍會轉換成 float 型態。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#60a0b0;font-style:italic">// var_dump()方法是判斷一個變量的類型與長度,並輸出變量的數值
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$large_number</span> <span style="color:#666">=</span> <span style="color:#40a070">2147483647</span>;
var_dump(<span style="color:#bb60d5">$large_number</span>); <span style="color:#60a0b0;font-style:italic">// int(2147483647)
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#bb60d5">$large_number</span> <span style="color:#666">=</span> <span style="color:#40a070">2147483648</span>;
var_dump(<span style="color:#bb60d5">$large_number</span>); <span style="color:#60a0b0;font-style:italic">// float(2147483648)
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="float-符點數">Float 符點數</h3>
<p>擁有小數點的正負數值，
通常最大值是 1.8e308 並具有 14 位十進制數字的精度。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$num</span> <span style="color:#666">=</span> <span style="color:#40a070">99.01</span>;
<span style="color:#bb60d5">$num</span> <span style="color:#666">=</span> <span style="color:#666">-</span><span style="color:#40a070">50.30</span>;
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="string-字符串">string 字符串</h3>
<p>由字符組成，每個字符等同於一個字節。這意味著 PHP 只能支持 256 的字符集，因此不支持 Unicode 。</p>
<blockquote>
<p>注意:在 32 位版本中，string 最大可以達到 2GB（最多 2147483647 字節）。</p>
</blockquote>
<p>定義一個字符串最簡單就是用'&lsquo;單引號刮起來。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$text</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;This is test string&#39;</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$text</span>; <span style="color:#60a0b0;font-style:italic">// 輸出: This is test string
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>如果包含在雙引號內就可以對特殊字符進行解析。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#60a0b0;font-style:italic">// 可以直接將變數帶入
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$food</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;noodles&#39;</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Hi </span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>; <span style="color:#60a0b0;font-style:italic">// 換行
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;I like to eat </span><span style="color:#70a0d0;font-style:italic">$food</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="array-數組">Array 數組</h3>
<p>PHP 中的 array 實際上是一個有序映射。映射是一種把 values 關聯到 keys 的類型。</p>
<p>可以用 array() 方法來結構一個 array 。接受任意數量用逗號分隔的 鍵（key） =&gt; 值（value） 。以下範例:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$arry</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>( <span style="color:#40a070">0</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;apple&#39;</span>,
               <span style="color:#40a070">1</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;tomato&#39;</span>,
               <span style="color:#40a070">2</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;banana&#39;</span>,);
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$arry</span>[<span style="color:#40a070">0</span>]; <span style="color:#60a0b0;font-style:italic">// apple
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#60a0b0;font-style:italic">// 可以使用以下短數組語法
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$arry</span> <span style="color:#666">=</span> [ <span style="color:#40a070">0</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;apple&#39;</span>,
          <span style="color:#40a070">1</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;tomato&#39;</span>,
          <span style="color:#40a070">2</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;banana&#39;</span>,];
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$arry</span>[<span style="color:#40a070">0</span>]; <span style="color:#60a0b0;font-style:italic">// apple
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>沒有鍵名的索引數組</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$array</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>(<span style="color:#4070a0">&#34;apple&#34;</span>, <span style="color:#4070a0">&#34;tomato&#34;</span>, <span style="color:#4070a0">&#34;banana&#34;</span>, );
var_dump(<span style="color:#bb60d5">$array</span>);

<span style="color:#60a0b0;font-style:italic">// 輸出
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">array</span>(<span style="color:#40a070">4</span>) {
  [<span style="color:#40a070">0</span>]<span style="color:#666">=&gt;</span>
  string(<span style="color:#40a070">5</span>) <span style="color:#4070a0">&#34;apple&#34;</span>
  [<span style="color:#40a070">1</span>]<span style="color:#666">=&gt;</span>
  string(<span style="color:#40a070">6</span>) <span style="color:#4070a0">&#34;tomato&#34;</span>
  [<span style="color:#40a070">2</span>]<span style="color:#666">=&gt;</span>
  string(<span style="color:#40a070">6</span>) <span style="color:#4070a0">&#34;banana&#34;</span>
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>數組可以用在許多地方，以下有些範例</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$map</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>( <span style="color:#4070a0">&#39;version&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">4</span>,
              <span style="color:#4070a0">&#39;OS&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;Linux&#39;</span>,
              <span style="color:#4070a0">&#39;lang&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;english&#39;</span>,
              <span style="color:#4070a0">&#39;short_tags&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#007020;font-weight:bold">true</span>
        );

<span style="color:#60a0b0;font-style:italic">// . . .完全等同於:
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>();
<span style="color:#bb60d5">$a</span>[<span style="color:#4070a0">&#39;version&#39;</span>] <span style="color:#666">=</span> <span style="color:#40a070">4</span>;
<span style="color:#bb60d5">$a</span>[<span style="color:#4070a0">&#39;os&#39;</span>] <span style="color:#666">=</span> <span style="color:#4070a0">&#39;Linux&#39;</span>;
<span style="color:#bb60d5">$a</span>[<span style="color:#4070a0">&#39;lang&#39;</span>] <span style="color:#666">=</span> <span style="color:#4070a0">&#39;english&#39;</span>;
<span style="color:#bb60d5">$a</span>[<span style="color:#4070a0">&#39;short_tags&#39;</span>]  <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">true</span>;

unset(<span style="color:#bb60d5">$a</span>[<span style="color:#4070a0">&#39;os&#39;</span>]); <span style="color:#60a0b0;font-style:italic">// 刪除 &#34;Linux&#34;
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>輸出集合</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$maps</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>( <span style="color:#4070a0">&#39;version&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">4</span>,
              <span style="color:#4070a0">&#39;OS&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;Linux&#39;</span>,
              <span style="color:#4070a0">&#39;lang&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;english&#39;</span>,
              <span style="color:#4070a0">&#39;short_tags&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#007020;font-weight:bold">true</span>
        );

<span style="color:#007020;font-weight:bold">foreach</span> (<span style="color:#bb60d5">$maps</span> <span style="color:#007020;font-weight:bold">as</span> <span style="color:#bb60d5">$key</span> <span style="color:#666">=&gt;</span> <span style="color:#bb60d5">$value</span>) {
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;</span><span style="color:#70a0d0;font-style:italic">$key</span><span style="color:#4070a0"> is </span><span style="color:#70a0d0;font-style:italic">$value\n</span><span style="color:#4070a0">&#34;</span>;
}
<span style="color:#60a0b0;font-style:italic">// version is 4
</span><span style="color:#60a0b0;font-style:italic">// OS is Linux
</span><span style="color:#60a0b0;font-style:italic">// lang is english
</span><span style="color:#60a0b0;font-style:italic">// short_tags is 1
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>Array 是有序的。也可以使用不同的排序函数来改變順序。</p>
<p>數組排序範例</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
sort(<span style="color:#bb60d5">$files</span>); <span style="color:#60a0b0;font-style:italic">// 對value排序
</span><span style="color:#60a0b0;font-style:italic"></span>print_r(<span style="color:#bb60d5">$files</span>);
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="iterable-可迭代對象">Iterable 可迭代對象</h3>
<p>它接受任何 array 或實現了 Traversable(可遍歷) 接口的對象。
這些類型都能用 foreach 迭代， 也可以和 生成器 里的 yield from 一起使用。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">gen</span>()<span style="color:#666">:</span> iterable { <span style="color:#60a0b0;font-style:italic">// 建立一個可迭代生成器
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">yield</span> <span style="color:#40a070">1</span>;
    <span style="color:#007020;font-weight:bold">yield</span> <span style="color:#40a070">2</span>;
    <span style="color:#007020;font-weight:bold">yield</span> <span style="color:#40a070">3</span>;
}
<span style="color:#bb60d5">$iterable</span> <span style="color:#666">=</span> gen(); <span style="color:#60a0b0;font-style:italic">// 實例化
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">foreach</span>(<span style="color:#bb60d5">$iterable</span> <span style="color:#007020;font-weight:bold">as</span> <span style="color:#bb60d5">$value</span>){
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;</span><span style="color:#70a0d0;font-style:italic">$value\n</span><span style="color:#4070a0">&#34;</span>;
}
<span style="color:#60a0b0;font-style:italic">// 輸出
</span><span style="color:#60a0b0;font-style:italic">// 1
</span><span style="color:#60a0b0;font-style:italic">// 2
</span><span style="color:#60a0b0;font-style:italic">// 3
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#60a0b0;font-style:italic">// 答案相同
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">gen</span>()<span style="color:#666">:</span> iterable {
    <span style="color:#007020;font-weight:bold">return</span> [<span style="color:#40a070">1</span>, <span style="color:#40a070">2</span>, <span style="color:#40a070">3</span>];
}
<span style="color:#bb60d5">$iterable</span> <span style="color:#666">=</span> gen();
<span style="color:#007020;font-weight:bold">foreach</span>(<span style="color:#bb60d5">$iterable</span> <span style="color:#007020;font-weight:bold">as</span> <span style="color:#bb60d5">$value</span>){
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;</span><span style="color:#70a0d0;font-style:italic">$value\n</span><span style="color:#4070a0">&#34;</span>;
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="object-對象">Object 對象</h3>
<p>要創建一个新的對象 object，使用 new 語句實例化一个類：</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">SayHi</span>
{
    <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">do_sayhi</span>()
    {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Hello.&#34;</span>;
    }
}

<span style="color:#bb60d5">$bar</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> foo;
<span style="color:#bb60d5">$bar</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">do_sayhi</span>(); <span style="color:#60a0b0;font-style:italic">// Hello
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>如果將 Object 轉換成 Object 將不會有任何變化，如果其它任何類型的值被轉換成對象，將會創建一个内置類 stdClass 的實例。如果该值为 null，則新的實例為空。
array 轉換成 object 將使 Key 值成為屬性名並具有相對應的值，參考以下範例</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$obj</span> <span style="color:#666">=</span> (object) <span style="color:#007020;font-weight:bold">array</span>(<span style="color:#4070a0">&#39;1&#39;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;foo&#39;</span>);
var_dump(isset(<span style="color:#bb60d5">$obj</span><span style="color:#666">-&gt;</span>{<span style="color:#4070a0">&#39;1&#39;</span>})); <span style="color:#60a0b0;font-style:italic">// PHP 7.2.0 後輸出 &#39;bool(true)&#39;，之前版本會輸出 &#39;bool(false)&#39;
</span><span style="color:#60a0b0;font-style:italic"></span>var_dump(key(<span style="color:#bb60d5">$obj</span>)); <span style="color:#60a0b0;font-style:italic">// PHP 7.2.0 後輸出 &#39;string(1) &#34;1&#34;&#39;，之前版本輸出  &#39;int(1)&#39;
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>對於其他值，會包含進成員變量名 scalar。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$obj</span> <span style="color:#666">=</span> (object) <span style="color:#4070a0">&#39;hello&#39;</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$obj</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">scalar</span>;  <span style="color:#60a0b0;font-style:italic">// outputs &#39;hello&#39;
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="null-類型">Null 類型</h3>
<p>特殊的 null 值表示一个變數没有值。NULL 類型唯一可能的值就是 null。</p>
<p>在下列情况下一个變數被认为是 null：</p>
<ul>
<li>
<p>被賦值为 null。</p>
</li>
<li>
<p>尚未被賦值。</p>
</li>
<li>
<p>被 unset()。</p>
</li>
</ul>
<p>null 類型只有一个值，就是不區分大小寫的常量 null。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$var</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">NULL</span>;
<span style="color:#007020">?&gt;</span>
</code></pre></div><h2 id="php-變數命名規則">PHP 變數命名規則</h2>
<p>PHP 中的變數用一个美元符號後面跟變數名稱来表示。變數名是區分大小寫的。</p>
<p>變數名與 PHP 中其它的標籤一样遵循相同的規則。一个有效的變量名由字母或者底線開頭，後面加上任意数量的字母，数字，或者底線。 按照正常的正規表示法，他將被表達為：'^[a-zA-Z_\x80-\xff][a-za-z0-9_\x80-\xff]*$&rsquo;。</p>
<blockquote>
<p>$this 是一個特殊變數，他不能被賦值。</p>
</blockquote>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$firstName</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;Wang&#39;</span>;
<span style="color:#bb60d5">$lastName</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;Joe&#39;</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;</span><span style="color:#70a0d0;font-style:italic">$firstName</span><span style="color:#4070a0">, </span><span style="color:#70a0d0;font-style:italic">$lastName</span><span style="color:#4070a0">&#34;</span>;      <span style="color:#60a0b0;font-style:italic">// 输出 &#34;Wang, Joe&#34;
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="">$</span><span style="color:#40a070">4</span>site <span style="color:#666">=</span> <span style="color:#4070a0">&#39;not yet&#39;</span>;     <span style="color:#60a0b0;font-style:italic">// 非法變數名；以數字開頭
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$_4site</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;not yet&#39;</span>;    <span style="color:#60a0b0;font-style:italic">// 合法變數名；以底線開頭
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$i站點is</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;TW&#39;</span>;  <span style="color:#60a0b0;font-style:italic">// 合法變數名；可以用中文
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><h2 id="php-常量">PHP 常量</h2>
<p>可以使用 const 關鍵字或 define() 函數兩種方法來定義一個常量。函數 define() 允許將常量定義為一個表達式，而 const 關鍵字有一些限制。一個常量一旦被定義，就不能再改變或者取消定義。</p>
<p>使用 const 關鍵字定義常量時，只能包含標量數據（bool、int、float 、string）。可以將常量定義為一個表達式，也可以定義為一個 array。還可以定義 resource 為常量，但應盡量避免，因為可能會造成不可預料的結果。</p>
<p>可以簡單的通過指定其名字來取得常量的值，與變量不同，不應該在常量前面加上 $ 符號。如果常量名是動態的，也可以用函數 constant() 來獲取常量的值。用 get_defined_constants() 可以獲得所有已定義的常量列表。</p>
<p>以下為定義常量範例</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
define(<span style="color:#4070a0">&#34;CONSTANT&#34;</span>, <span style="color:#4070a0">&#34;Hello world.&#34;</span>);
<span style="color:#007020;font-weight:bold">echo</span> CONSTANT; <span style="color:#60a0b0;font-style:italic">// 輸出 &#34;Hello world.&#34;
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">echo</span> Constant; <span style="color:#60a0b0;font-style:italic">// 拋出錯誤：未定義的常量 &#34;Constant&#34;
</span><span style="color:#60a0b0;font-style:italic"></span>               <span style="color:#60a0b0;font-style:italic">// 在 PHP 8.0.0 之前，输出 &#34;Constant&#34; 會併發出一個提示級別錯誤訊息
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>以下範例為使用關鍵字 const 定義常量</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#60a0b0;font-style:italic">// 簡單的標量值
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">const</span> <span style="color:#60add5">CONSTANT</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;Hello World&#39;</span>;

<span style="color:#007020;font-weight:bold">echo</span> CONSTANT;

<span style="color:#60a0b0;font-style:italic">// 標量表達式
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">const</span> <span style="color:#60add5">ANOTHER_CONST</span> <span style="color:#666">=</span> CONSTANT<span style="color:#666">.</span><span style="color:#4070a0">&#39;; Goodbye World&#39;</span>;
<span style="color:#007020;font-weight:bold">echo</span> ANOTHER_CONST;

<span style="color:#007020;font-weight:bold">const</span> <span style="color:#60add5">ANIMALS</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>(<span style="color:#4070a0">&#39;dog&#39;</span>, <span style="color:#4070a0">&#39;cat&#39;</span>, <span style="color:#4070a0">&#39;bird&#39;</span>);
<span style="color:#007020;font-weight:bold">echo</span> ANIMALS[<span style="color:#40a070">1</span>]; <span style="color:#60a0b0;font-style:italic">// 將輸出 &#34;cat&#34;
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#60a0b0;font-style:italic">// 常量數組
</span><span style="color:#60a0b0;font-style:italic"></span>define(<span style="color:#4070a0">&#39;ANIMALS&#39;</span>, <span style="color:#007020;font-weight:bold">array</span>(
    <span style="color:#4070a0">&#39;dog&#39;</span>,
    <span style="color:#4070a0">&#39;cat&#39;</span>,
    <span style="color:#4070a0">&#39;bird&#39;</span>
));
<span style="color:#007020;font-weight:bold">echo</span> ANIMALS[<span style="color:#40a070">1</span>]; <span style="color:#60a0b0;font-style:italic">// 將輸出 &#34;cat&#34;
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>魔術常量</p>
<table>
<thead>
<tr>
<th>名字</th>
<th>說明</th>
</tr>
</thead>
<tbody>
<tr>
<td>__LINE__</td>
<td>文件中的當前行號</td>
</tr>
<tr>
<td>__FILE__</td>
<td>文件的完整路徑和文件名。如果用在被包含文件中，則返回被包含的文件名。</td>
</tr>
<tr>
<td>__DIR__</td>
<td>文件所在的目錄。如果用在被包括文件中，則返回被包括的文件所在的目錄。它等價於 dirname(__FILE__)。除非是根目錄，否則目錄中名不包括末尾的斜杠。</td>
</tr>
<tr>
<td>__FUNCTION__</td>
<td>當前函數的名稱。匿名函數則為 {closure}。</td>
</tr>
<tr>
<td>__CLASS__</td>
<td>當前類的名稱。類名包括其被聲明的作用域（例如 Foo\Bar）。當用在 trait 方法中時，__CLASS__ 是調用 trait 方法的類的名字</td>
</tr>
<tr>
<td>__TRAIT__</td>
<td>Trait 的名字。 Trait 名包括其被聲明的作用域（例如 Foo\Bar）。</td>
</tr>
<tr>
<td>__METHOD__</td>
<td>class 的方法名</td>
</tr>
<tr>
<td>__NAMESPACE__</td>
<td>當前命名空間名稱</td>
</tr>
<tr>
<td>ClassName::class</td>
<td>完整的 class 名稱</td>
</tr>
</tbody>
</table>
<p>以下為魔術常量範例:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">namespace</span> UserModel {
    <span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">User</span> {
        <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> __construct() {
            <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#39;I am in &#39;</span><span style="color:#666">.</span><span style="color:#60add5">__CLASS__</span><span style="color:#666">.</span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
        }
        <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">showData</span>() {
            <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#39;I am in &#39;</span><span style="color:#666">.</span><span style="color:#60add5">__METHOD__</span><span style="color:#666">.</span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
        }
    }

    <span style="color:#bb60d5">$obj</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> User;
    <span style="color:#bb60d5">$obj</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">showData</span>();
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#60add5">__NAMESPACE__</span>;
}
<span style="color:#007020">?&gt;</span>

// outputs
// I am in UserModel\User
// I am in UserModel\User::showData
// UserModel
</code></pre></div><h2 id="php-運算符">PHP 運算符</h2>
<h3 id="算數運算符">算數運算符</h3>
<p>跟國中小數學基本數學知識相同。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#40a070">1</span>;
<span style="color:#bb60d5">$b</span> <span style="color:#666">=</span> <span style="color:#40a070">2</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$a</span> <span style="color:#666">+</span> <span style="color:#40a070">1</span> <span style="color:#666">*</span> <span style="color:#bb60d5">$b</span>; <span style="color:#60a0b0;font-style:italic">// output: 3
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>以下圖表為算術運算符</p>
<table>
<thead>
<tr>
<th>例子</th>
<th>名称</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>+$a</td>
<td>標識</td>
<td>根據情况將 $a 轉化為 int 或 float。</td>
</tr>
<tr>
<td>-$a</td>
<td>取反</td>
<td>$a 的負值。</td>
</tr>
<tr>
<td>$a + $b</td>
<td>加法</td>
<td>$a 和 $b 的和。</td>
</tr>
<tr>
<td>$a - $b</td>
<td>减法</td>
<td>$a 和 $b 的差。</td>
</tr>
<tr>
<td>$a * $b</td>
<td>乘法</td>
<td>$a 和 $b 的積。</td>
</tr>
<tr>
<td>$a / $b</td>
<td>除法</td>
<td>$a 除以 $b 的商。</td>
</tr>
<tr>
<td>$a % $b</td>
<td>取模</td>
<td>$a 除以 $b 的餘數。</td>
</tr>
<tr>
<td>$a ** $b</td>
<td>求幂</td>
<td>$a 的 $b 次方的值。</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="賦值運算符">賦值運算符</h3>
<p>基本的賦值運算符是“=”。一開始可能會以為它是“等於”，其實不是的。它實際上意味著把右邊表達式的值賦給左邊的運算數</p>
<p>下圖為算術賦值運算符</p>
<table>
<thead>
<tr>
<th>例子</th>
<th>等同於</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td>$a += $b</td>
<td>$a = $a + $b</td>
<td>加法</td>
</tr>
<tr>
<td>$a -= $b</td>
<td>$a = $a - $b</td>
<td>减法</td>
</tr>
<tr>
<td>$a *= $b</td>
<td>$a = $a * $b</td>
<td>乘法</td>
</tr>
<tr>
<td>$a /= $b</td>
<td>$a = $a / $b</td>
<td>除法</td>
</tr>
<tr>
<td>$a %= $b</td>
<td>$a = $a % $b</td>
<td>取餘數</td>
</tr>
<tr>
<td>$a **= $b</td>
<td>$a = $a ** $b</td>
<td>指數</td>
</tr>
</tbody>
</table>
<p>下圖為其他賦值運算符</p>
<table>
<thead>
<tr>
<th>例子</th>
<th>等同於</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td>$a .= $b</td>
<td>$a = $a . $b</td>
<td>字符串拼接</td>
</tr>
<tr>
<td>$a ?? $b</td>
<td>$a = $a ?? $b</td>
<td>NULL 合併</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="位元運算">位元運算</h3>
<p>位運算符允許對整型數中指定的位進行求值和操作。</p>
<p>下圖為位元運算符號
| 例子 | 名稱 | 结果 |
| &mdash;&mdash;&ndash; | &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;- | &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash; |
| $a &amp; $b | And（按位與） | 將把 $a 和 $b 中都為 1 的位設為 1。 |
| $a | $b | Or（按位或） | 將把 $a 和 $b 中任何一個為 1 的位設為 1。 |
| $a ^ $b | Xor（按位異或） | 將把 $a 和 $b 中一個為 1 另一個為 0 的位設為 1。 |
| ~ $a | Not（按位取反） | 將 $a 中為 0 的位設為 1，反之亦然。 |
| $a &laquo; $b | Shift left（左移） | 將 $a 中的位向左移動 $b 次（每一次移動都表示“乘以 2”）。 |
| $a &raquo; $b | Shift right（右移） | 將 $a 中的位向右移動 $b 次（每一次移動都表示“除以 2”）。 |</p>
<hr>
<h3 id="比較運算符">比較運算符</h3>
<p>比較運算符，如同它們名稱所暗示的，允許對兩個值進行比較。</p>
<table>
<thead>
<tr>
<th>例子</th>
<th>名稱</th>
<th>結果</th>
</tr>
</thead>
<tbody>
<tr>
<td>$a == $b</td>
<td>等於</td>
<td>true，如果類型轉換後 $a 等於 $b。</td>
</tr>
<tr>
<td>$a === $b</td>
<td>全等於</td>
<td>true，如果 $a 等於 $b，並且它們的類型也相同。</td>
</tr>
<tr>
<td>$a != $b</td>
<td>不等於</td>
<td>true，如果類型轉換後 $a 不等於 $b。</td>
</tr>
<tr>
<td>$a &lt;&gt; $b</td>
<td>不等於</td>
<td>true，如果類型轉換後 $a 不等於 $b。</td>
</tr>
<tr>
<td>$a !== $b</td>
<td>不全等</td>
<td>true，如果 $a 不等於 $b，或者它們的類型不同。</td>
</tr>
<tr>
<td>$a &lt; $b</td>
<td>小於</td>
<td>true，如果 $a 嚴格小於 $b。</td>
</tr>
<tr>
<td>$a &gt; $b</td>
<td>大於</td>
<td>true，如果 $a 嚴格大於 $b。</td>
</tr>
<tr>
<td>$a &lt;= $b</td>
<td>小於等於</td>
<td>true，如果 $a 小於或者等於 $b。</td>
</tr>
<tr>
<td>$a &gt;= $b</td>
<td>大於等於</td>
<td>true，如果 $a 大於或者等於 $b。</td>
</tr>
<tr>
<td>$a &lt;=&gt; $b</td>
<td>太空船運算符（組合比較符）</td>
<td>當$a 小於、等於、大於 $b 時 分别返回一個小於、等於、大於 0 的 int 值。</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="執行運算符">執行運算符</h3>
<p>PHP 支持一個執行運算符：反引號（``）。注意這不是單引號！ PHP 將嘗試將反引號中的內容作為 shell 命令來執行，並將其輸出信息返回（即，可以賦給一個變量而不是簡單地丟棄到標準輸出）。使用反引號運算符“`”的效果與函數 shell_exec() 相同。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$output</span> <span style="color:#666">=</span> <span style="color:#4070a0">`ipconfig /all`</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;&lt;pre&gt;</span><span style="color:#70a0d0;font-style:italic">$output</span><span style="color:#4070a0">&lt;/pre&gt;&#34;</span>; <span style="color:#60a0b0;font-style:italic">// 輸出所有IP資訊
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="遞增遞減運算符">遞增/遞減運算符</h3>
<p>:::warning
注意: 遞增／遞減運算符不影響布爾值。遞減 null 值也沒有效果，但是遞增 null 的結果是 1。:zap:
:::</p>
<table>
<thead>
<tr>
<th>例子</th>
<th>名称</th>
<th>效果</th>
</tr>
</thead>
<tbody>
<tr>
<td>++$a</td>
<td>先加</td>
<td>$a 的值加一，然後返回 $a。</td>
</tr>
<tr>
<td>$a++</td>
<td>後加</td>
<td>返回 $a，然後將 $a 的值加一。</td>
</tr>
<tr>
<td>&ndash;$a</td>
<td>先减</td>
<td>$a 的值减一， 然后返回 $a。</td>
</tr>
<tr>
<td>$a&ndash;</td>
<td>後减</td>
<td>返回 $a，然後將 $a 的值减一。</td>
</tr>
</tbody>
</table>
<p>簡易的範例</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;後增量(PostIncrement)</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#40a070">5</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Should be 5: &#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">$a</span><span style="color:#666">++</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;&lt;br /&gt;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Should be 6: &#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">$a</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;&lt;br /&gt;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;

<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;先增量(PreIncrement)</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#40a070">5</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Should be 6: &#34;</span> <span style="color:#666">.</span> <span style="color:#666">++</span><span style="color:#bb60d5">$a</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;&lt;br /&gt;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Should be 6: &#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">$a</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;&lt;br /&gt;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;

<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;後減(PostDecrement)</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#40a070">5</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Should be 5: &#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">$a</span><span style="color:#666">--</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;&lt;br /&gt;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Should be 4: &#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">$a</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;&lt;br /&gt;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;

<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;先減(Predecrement)</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#40a070">5</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Should be 4: &#34;</span> <span style="color:#666">.</span> <span style="color:#666">--</span><span style="color:#bb60d5">$a</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;&lt;br /&gt;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Should be 4: &#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">$a</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;&lt;br /&gt;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="邏輯運算符">邏輯運算符</h3>
<table>
<thead>
<tr>
<th>例子</th>
<th>名稱</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>$a and $b</td>
<td>And（和）</td>
<td>true，如果 $a 和 $b 都為 true。</td>
</tr>
<tr>
<td>$a or $b</td>
<td>Or（或）</td>
<td>true，如果 $a 或 $b 任一為 true。</td>
</tr>
<tr>
<td>$a xor $b</td>
<td>Xor（異或）</td>
<td>true，如果 $a 或 $b 任一為 true，但不同時是。</td>
</tr>
<tr>
<td>! $a</td>
<td>Not（非）</td>
<td>true，如果 $a 不為 true。</td>
</tr>
<tr>
<td>$a &amp;&amp; $b</td>
<td>And（與）</td>
<td>true，如果 $a 和 $b 都為 true。</td>
</tr>
<tr>
<td>$a || $b</td>
<td>Or（或）</td>
<td>true，如果 $a 或 $b 任一為 true。</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="字符串運算符">字符串運算符</h3>
<p>有兩個字符串（string）運算符。第一個是連接運算符（“.”），它返回其左右參數連接後的字符串。第二個是連接賦值運算符（“.=”），它將右邊參數附加到左邊的參數之後。</p>
<p>範例程式碼</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#34;Hello &#34;</span>;
<span style="color:#bb60d5">$b</span> <span style="color:#666">=</span> <span style="color:#bb60d5">$a</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;World!&#34;</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$b</span><span style="color:#666">.</span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>; <span style="color:#60a0b0;font-style:italic">// output &#34;Hello World!&#34;
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#34;Hello &#34;</span>;
<span style="color:#bb60d5">$a</span> <span style="color:#666">.=</span> <span style="color:#4070a0">&#34;World!&#34;</span>;     <span style="color:#60a0b0;font-style:italic">// output &#34;Hello World!&#34;
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$a</span>;
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="數組運算符">數組運算符</h3>
<table>
<thead>
<tr>
<th>例子</th>
<th>名稱</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>$a + $b</td>
<td>聯合</td>
<td>$a 和 $b 的联合。</td>
</tr>
<tr>
<td>$a == $b</td>
<td>相等</td>
<td>如果 $a 和 $b 具有相同的键／值，則為 true。</td>
</tr>
<tr>
<td>$a === $b</td>
<td>全等</td>
<td>如果 $a 和 $b 具有相同的键／值，並且順序和類型都相同則為 true。</td>
</tr>
<tr>
<td>$a != $b</td>
<td>不等於</td>
<td>如果 $a 不等於 $b 則為 true。</td>
</tr>
<tr>
<td>$a &lt;&gt; $b</td>
<td>不等於</td>
<td>如果 $a 不等於 $b 則為 true。</td>
</tr>
<tr>
<td>$a !== $b</td>
<td>不相等</td>
<td>如果 $a 不全等於 $b 則為 true。</td>
</tr>
</tbody>
</table>
<p>如果是運用運算符將數組相加，會把加號右邊的附加到加號左邊數組，
兩個數組中都有的鍵名，則只用左邊數組中的，右邊的被忽略</p>
<p>以下簡單範例示範:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>(<span style="color:#4070a0">&#34;a&#34;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#34;apple&#34;</span>, <span style="color:#4070a0">&#34;b&#34;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#34;banana&#34;</span>);
<span style="color:#bb60d5">$b</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>(<span style="color:#4070a0">&#34;a&#34;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#34;pear&#34;</span>, <span style="color:#4070a0">&#34;b&#34;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#34;strawberry&#34;</span>, <span style="color:#4070a0">&#34;c&#34;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#34;cherry&#34;</span>);

<span style="color:#bb60d5">$c</span> <span style="color:#666">=</span> <span style="color:#bb60d5">$a</span> <span style="color:#666">+</span> <span style="color:#bb60d5">$b</span>; <span style="color:#60a0b0;font-style:italic">// Union of $a and $b
</span><span style="color:#60a0b0;font-style:italic"></span>var_dump(<span style="color:#bb60d5">$c</span>);

<span style="color:#bb60d5">$c</span> <span style="color:#666">=</span> <span style="color:#bb60d5">$b</span> <span style="color:#666">+</span> <span style="color:#bb60d5">$a</span>; <span style="color:#60a0b0;font-style:italic">// Union of $b and $a
</span><span style="color:#60a0b0;font-style:italic"></span>var_dump(<span style="color:#bb60d5">$c</span>);

<span style="color:#60a0b0;font-style:italic">// 輸出:
</span><span style="color:#60a0b0;font-style:italic">// array(3) {
</span><span style="color:#60a0b0;font-style:italic">//   [&#34;a&#34;]=&gt;
</span><span style="color:#60a0b0;font-style:italic">//   string(5) &#34;apple&#34;
</span><span style="color:#60a0b0;font-style:italic">//   [&#34;b&#34;]=&gt;
</span><span style="color:#60a0b0;font-style:italic">//   string(6) &#34;banana&#34;
</span><span style="color:#60a0b0;font-style:italic">//   [&#34;c&#34;]=&gt;
</span><span style="color:#60a0b0;font-style:italic">//   string(6) &#34;cherry&#34;
</span><span style="color:#60a0b0;font-style:italic">// }
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#60a0b0;font-style:italic">// array(3) {
</span><span style="color:#60a0b0;font-style:italic">//   [&#34;a&#34;]=&gt;
</span><span style="color:#60a0b0;font-style:italic">//   string(4) &#34;pear&#34;
</span><span style="color:#60a0b0;font-style:italic">//   [&#34;b&#34;]=&gt;
</span><span style="color:#60a0b0;font-style:italic">//   string(10) &#34;strawberry&#34;
</span><span style="color:#60a0b0;font-style:italic">//   [&#34;c&#34;]=&gt;
</span><span style="color:#60a0b0;font-style:italic">//   string(6) &#34;cherry&#34;
</span><span style="color:#60a0b0;font-style:italic">// }
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>以下示範比較數組</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>(<span style="color:#4070a0">&#34;apple&#34;</span>, <span style="color:#4070a0">&#34;banana&#34;</span>);
<span style="color:#bb60d5">$b</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>(<span style="color:#40a070">1</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#34;banana&#34;</span>, <span style="color:#4070a0">&#34;0&#34;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#34;apple&#34;</span>);

var_dump(<span style="color:#bb60d5">$a</span> <span style="color:#666">==</span> <span style="color:#bb60d5">$b</span>); <span style="color:#60a0b0;font-style:italic">// bool(true)
</span><span style="color:#60a0b0;font-style:italic"></span>var_dump(<span style="color:#bb60d5">$a</span> <span style="color:#666">===</span> <span style="color:#bb60d5">$b</span>); <span style="color:#60a0b0;font-style:italic">// bool(false)
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="類型運算符">類型運算符</h3>
<p>instanceof 方法用於確定一個 PHP 變數是否屬於某一類 class 的實例，
也可以用來確認某一個變數，是否繼承自某一父類或子類的實例。</p>
<p>以下範例</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">MyClass</span>
{
}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">NotMyClass</span>
{
}
<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> MyClass;

var_dump(<span style="color:#bb60d5">$a</span> instanceof MyClass);
var_dump(<span style="color:#bb60d5">$a</span> instanceof NotMyClass);
<span style="color:#007020">?&gt;</span>

// 輸出
// bool(True)
// bool(False)
</code></pre></div><hr>
<h2 id="php-流程控制">PHP 流程控制</h2>
<h3 id="if-else-判斷句">If Else 判斷句</h3>
<p>If 可以使用在判斷某條件達成時執行語句，else 則是在不滿該條下執行。</p>
<p>以下使用範例示範</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">if</span> (<span style="color:#bb60d5">$a</span> <span style="color:#666">&gt;</span> <span style="color:#bb60d5">$b</span>){
console<span style="color:#666">.</span>log(<span style="color:#4070a0">&#34;a win&#34;</span>);
}<span style="color:#007020;font-weight:bold">else</span> {
console<span style="color:#666">.</span>log(<span style="color:#4070a0">&#34;b win&#34;</span>);
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="else-if-判斷句">else if 判斷句</h3>
<p>是 if 語句的延伸，可以在原來的 if 表達式值為 false 時執行不同語句。但是和 else 不一樣的是，它僅在 elseif 的條件表達式值為 true 時執行語句。</p>
<p>以下使用範例示範:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">if</span>(<span style="color:#bb60d5">$a</span> <span style="color:#666">&gt;</span> <span style="color:#bb60d5">$b</span>){
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;a is bigger than b&#34;</span>;
}
<span style="color:#007020;font-weight:bold">elseif</span>(<span style="color:#bb60d5">$a</span> <span style="color:#666">==</span> <span style="color:#bb60d5">$b</span>){
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;a is equal to b&#34;</span>;
}<span style="color:#007020;font-weight:bold">else</span>{
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;a is smaller than b&#34;</span>;
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="while-迴圈">while 迴圈</h3>
<p>只要條件成立就會重複執行語句，表達式在每次開始循環前檢查，所以即使值在循環語句中改變，語句也不會停止執行，值到此次循環結束。</p>
<p>如果 while 表達式一開始的值為 false，則循環語句一次都不會執行。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$i</span> <span style="color:#666">=</span> <span style="color:#40a070">1</span>;
<span style="color:#007020;font-weight:bold">while</span> (<span style="color:#bb60d5">$i</span> <span style="color:#666">&lt;=</span> <span style="color:#40a070">10</span>) { <span style="color:#60a0b0;font-style:italic">// i &gt; 10停止迴圈
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$i</span><span style="color:#666">++</span>; <span style="color:#60a0b0;font-style:italic">// 先輸出 i 後再加一
</span><span style="color:#60a0b0;font-style:italic"></span>}
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="do-while-迴圈">do-while 迴圈</h3>
<p>和 while 迴圈相似，差別在於表達式的檢查是在循環結束時才檢查，所以 do-while 語句一定會執行循環語句一次。</p>
<p>以下範例:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$i</span> <span style="color:#666">=</span> <span style="color:#40a070">0</span>;
<span style="color:#007020;font-weight:bold">do</span>{
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$i</span>;
} <span style="color:#007020;font-weight:bold">while</span>(<span style="color:#bb60d5">$i</span><span style="color:#666">&lt;</span><span style="color:#40a070">0</span>);
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>剛好執行一次後停下，因為條件不符合。</p>
<hr>
<h3 id="for-迴圈">for 迴圈</h3>
<p>for 迴圈的語法是:</p>
<pre><code>for (expr1; expr2; expr3)

    statement
</code></pre><p>expr1:此表達式會在執行前，無條件執行一次。</p>
<p>expr2:在每次循環開始前求值。如果值為 true，則繼續循環，執行 statement 的循環語句。如果值為 false，則終止循環。</p>
<p>expr3:在循環之後，賦值(並執行)</p>
<p>以下所有範例為顯示 1~10 數字:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#60a0b0;font-style:italic">/* example 1 */</span>

<span style="color:#007020;font-weight:bold">for</span> (<span style="color:#bb60d5">$i</span> <span style="color:#666">=</span> <span style="color:#40a070">1</span>; <span style="color:#bb60d5">$i</span> <span style="color:#666">&lt;=</span> <span style="color:#40a070">10</span>; <span style="color:#bb60d5">$i</span><span style="color:#666">++</span>) {
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$i</span>;
}

<span style="color:#60a0b0;font-style:italic">/* example 2 */</span>

<span style="color:#007020;font-weight:bold">for</span> (<span style="color:#bb60d5">$i</span><span style="color:#666">=</span><span style="color:#40a070">1</span>; ; <span style="color:#bb60d5">$i</span><span style="color:#666">++</span>){
    <span style="color:#007020;font-weight:bold">if</span>　(<span style="color:#bb60d5">$i</span> <span style="color:#666">&gt;</span> <span style="color:#40a070">10</span>){
        <span style="color:#007020;font-weight:bold">break</span>;
    }
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$i</span>;
}

<span style="color:#60a0b0;font-style:italic">/* example 3 */</span>

<span style="color:#007020;font-weight:bold">for</span> (;;){
    <span style="color:#007020;font-weight:bold">if</span> (<span style="color:#bb60d5">$i</span> <span style="color:#666">&gt;</span> <span style="color:#40a070">10</span>) {
    <span style="color:#007020;font-weight:bold">break</span>;
}
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$i</span>;
    <span style="color:#bb60d5">$i</span><span style="color:#666">++</span>;
}

<span style="color:#60a0b0;font-style:italic">/* example 4 */</span>

<span style="color:#007020;font-weight:bold">for</span> (<span style="color:#bb60d5">$i</span> <span style="color:#666">=</span> <span style="color:#40a070">1</span>, <span style="color:#bb60d5">$j</span> <span style="color:#666">=</span> <span style="color:#40a070">0</span>; <span style="color:#bb60d5">$i</span> <span style="color:#666">&lt;=</span> <span style="color:#40a070">10</span>; <span style="color:#bb60d5">$j</span> <span style="color:#666">+=</span> <span style="color:#bb60d5">$i</span>, <span style="color:#007020;font-weight:bold">print</span> <span style="color:#bb60d5">$i</span>, <span style="color:#bb60d5">$i</span><span style="color:#666">++</span>);
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="foreach">foreach</h3>
<p>foreach 語法結構提供了可以遍歷 array 的簡單方式，foreach 只能用於 array 和 object，用於其他數據類型的變數，會發出錯誤。</p>
<p>foreach 語法如下:</p>
<pre><code>foreach (iterable_expression as $value)
statement

foreach (iterable_expression as $key =&gt; $value)
statement
</code></pre><p>第一種格式遍歷，會將 iterable_expression 內的值賦予給$value。</p>
<p>第二種格式遍歷與第一種相似，但會在每次循環將當前的鍵值賦予給$key。</p>
<p>以下為範例:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#60a0b0;font-style:italic">/* foreach example 1: value only */</span>
<span style="color:#bb60d5">$arr</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>(<span style="color:#40a070">2</span>, <span style="color:#40a070">4</span>, <span style="color:#40a070">6</span>, <span style="color:#40a070">8</span>);
<span style="color:#007020;font-weight:bold">foreach</span>(<span style="color:#bb60d5">$arr</span> <span style="color:#007020;font-weight:bold">as</span> <span style="color:#bb60d5">$value</span>){
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;value = </span><span style="color:#70a0d0;font-style:italic">$value</span><span style="color:#4070a0"> </span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
}

<span style="color:#60a0b0;font-style:italic">/* foreach example 2: key and value */</span>
<span style="color:#bb60d5">$arr</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>(
    <span style="color:#4070a0">&#34;name&#34;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#34;joe&#34;</span>,
    <span style="color:#4070a0">&#34;cel&#34;</span> <span style="color:#666">=&gt;</span> <span style="color:#40a070">1234567</span>,
    <span style="color:#4070a0">&#34;address&#34;</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#34;Taiwan&#34;</span>
);
<span style="color:#007020;font-weight:bold">foreach</span>(<span style="color:#bb60d5">$arr</span> <span style="color:#007020;font-weight:bold">as</span> <span style="color:#bb60d5">$key</span> <span style="color:#666">=&gt;</span> <span style="color:#bb60d5">$value</span>){
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;</span><span style="color:#70a0d0;font-style:italic">$key</span><span style="color:#4070a0"> =&gt; </span><span style="color:#70a0d0;font-style:italic">$value</span><span style="color:#4070a0"> </span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
}
<span style="color:#007020">?&gt;</span>

/* foreach example 3: dynamic arrays */

foreach (array(2, 4, 6, 8, 10) as $v) {
    echo &#34;$v\n&#34;;
}
</code></pre></div><p>用 list() 給嵌套的數組解包</p>
<p>可以遍歷一個數組的數組並且把嵌套的數組解包到循環變量中，只需將 list() 作為值提供。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$array</span> <span style="color:#666">=</span> [
[<span style="color:#40a070">1</span>, <span style="color:#40a070">2</span>],
[<span style="color:#40a070">3</span>, <span style="color:#40a070">4</span>],
];

<span style="color:#007020;font-weight:bold">foreach</span> (<span style="color:#bb60d5">$array</span> <span style="color:#007020;font-weight:bold">as</span> <span style="color:#007020;font-weight:bold">list</span>(<span style="color:#bb60d5">$a</span>, <span style="color:#bb60d5">$b</span>)) {
    <span style="color:#60a0b0;font-style:italic">// $a contains the first element of the nested array,
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#60a0b0;font-style:italic">// and $b contains the second element.
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;A: </span><span style="color:#70a0d0;font-style:italic">$a</span><span style="color:#4070a0">; B: </span><span style="color:#70a0d0;font-style:italic">$b\n</span><span style="color:#4070a0">&#34;</span>;
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>範例輸出:</p>
<pre><code>A: 1; B: 2
A: 3; B: 4
</code></pre><p>list() 中的單元可以少於嵌套數組的，此時多出來的數組單元將被忽略，如果 list 中單元多於嵌套數組，則會報錯：</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$array</span> <span style="color:#666">=</span> [
[<span style="color:#40a070">1</span>, <span style="color:#40a070">2</span>],
[<span style="color:#40a070">3</span>, <span style="color:#40a070">4</span>],
];

<span style="color:#007020;font-weight:bold">foreach</span> (<span style="color:#bb60d5">$array</span> <span style="color:#007020;font-weight:bold">as</span> <span style="color:#007020;font-weight:bold">list</span>(<span style="color:#bb60d5">$a</span>)) {
    <span style="color:#60a0b0;font-style:italic">// Note that there is no $b here.
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;A: </span><span style="color:#70a0d0;font-style:italic">$a</span><span style="color:#4070a0">;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>輸出</p>
<pre><code>A: 1;
A: 3;
</code></pre><hr>
<h3 id="break">break</h3>
<p>break 結束當前 for，foreach，while，do-while 或者 switch 結構的執行。</p>
<p>break 可以接受一個可選參數，來決定要跳出幾層迴圈。</p>
<p>以下為範例:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$arr</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>(<span style="color:#4070a0">&#39;one&#39;</span>, <span style="color:#4070a0">&#39;two&#39;</span>, <span style="color:#4070a0">&#39;three&#39;</span>, <span style="color:#4070a0">&#39;four&#39;</span>, <span style="color:#4070a0">&#39;stop&#39;</span>, <span style="color:#4070a0">&#39;five&#39;</span>);
<span style="color:#60a0b0;font-style:italic">// 使用each() 和list() 結合用來遍歷數組
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">while</span> (<span style="color:#007020;font-weight:bold">list</span> (, <span style="color:#bb60d5">$val</span>) <span style="color:#666">=</span> each(<span style="color:#bb60d5">$arr</span>)) {
    <span style="color:#007020;font-weight:bold">if</span> (<span style="color:#bb60d5">$val</span> <span style="color:#666">==</span> <span style="color:#4070a0">&#39;stop&#39;</span>) {
        <span style="color:#007020;font-weight:bold">break</span>;    <span style="color:#60a0b0;font-style:italic">/* You could also write &#39;break 1;&#39; here. */</span>
    }
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;</span><span style="color:#70a0d0;font-style:italic">$val</span><span style="color:#4070a0">&lt;br /&gt;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
}

<span style="color:#60a0b0;font-style:italic">/* 使用可選参数 */</span>

<span style="color:#bb60d5">$i</span> <span style="color:#666">=</span> <span style="color:#40a070">0</span>;
<span style="color:#007020;font-weight:bold">while</span> (<span style="color:#666">++</span><span style="color:#bb60d5">$i</span>) {
    <span style="color:#007020;font-weight:bold">switch</span> (<span style="color:#bb60d5">$i</span>) {
    <span style="color:#007020;font-weight:bold">case</span> <span style="color:#40a070">5</span><span style="color:#666">:</span>
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;At 5&lt;br /&gt;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
        <span style="color:#007020;font-weight:bold">break</span> <span style="color:#40a070">1</span>;  <span style="color:#60a0b0;font-style:italic">/* 只退出 switch. */</span>
    <span style="color:#007020;font-weight:bold">case</span> <span style="color:#40a070">10</span><span style="color:#666">:</span>
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;At 10; quitting&lt;br /&gt;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
        <span style="color:#007020;font-weight:bold">break</span> <span style="color:#40a070">2</span>;  <span style="color:#60a0b0;font-style:italic">/* 退出 switch 和 while 循环 */</span>
    <span style="color:#007020;font-weight:bold">default</span><span style="color:#666">:</span>
        <span style="color:#007020;font-weight:bold">break</span>;
    }
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="continue">continue</h3>
<p>continue 在循環結構用用來跳過本次循環中剩餘的代碼並在條件求值為真時開始執行下一次循環。</p>
<p>以下為範例:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">for</span>(<span style="color:#bb60d5">$i</span><span style="color:#666">=</span><span style="color:#40a070">1</span>; <span style="color:#bb60d5">$i</span><span style="color:#666">&lt;</span><span style="color:#40a070">5</span>; <span style="color:#bb60d5">$i</span><span style="color:#666">++</span>){
    <span style="color:#007020;font-weight:bold">if</span>(<span style="color:#bb60d5">$i</span><span style="color:#666">==</span><span style="color:#40a070">2</span>){
        <span style="color:#007020;font-weight:bold">continue</span>;
    }
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;</span><span style="color:#70a0d0;font-style:italic">$i\n</span><span style="color:#4070a0">&#34;</span>;  <span style="color:#60a0b0;font-style:italic">// outputs: 1 3 4
</span><span style="color:#60a0b0;font-style:italic"></span>}
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="switch">switch</h3>
<p>switch 語句類似於具有同一個表達式的一系列 if 語句。很多情況下需要把同一個變數（或表達式）與很多不同的值比較，並根據它等於哪個值來執行不同的代碼。</p>
<p>以下為範例，利用 if/else if 和 switch 實現不同方法實現相同的事:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">if</span> (<span style="color:#bb60d5">$i</span> <span style="color:#666">==</span> <span style="color:#40a070">0</span>) {
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;i equals 0&#34;</span>;
} <span style="color:#007020;font-weight:bold">elseif</span> (<span style="color:#bb60d5">$i</span> <span style="color:#666">==</span> <span style="color:#40a070">1</span>) {
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;i equals 1&#34;</span>;
} <span style="color:#007020;font-weight:bold">elseif</span> (<span style="color:#bb60d5">$i</span> <span style="color:#666">==</span> <span style="color:#40a070">2</span>) {
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;i equals 2&#34;</span>;
}

<span style="color:#007020;font-weight:bold">switch</span> (<span style="color:#bb60d5">$i</span>) {
    <span style="color:#007020;font-weight:bold">case</span> <span style="color:#40a070">0</span><span style="color:#666">:</span>
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;i equals 0&#34;</span>;
        <span style="color:#007020;font-weight:bold">break</span>;
    <span style="color:#007020;font-weight:bold">case</span> <span style="color:#40a070">1</span><span style="color:#666">:</span>
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;i equals 1&#34;</span>;
        <span style="color:#007020;font-weight:bold">break</span>;
    <span style="color:#007020;font-weight:bold">case</span> <span style="color:#40a070">2</span><span style="color:#666">:</span>
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;i equals 2&#34;</span>;
        <span style="color:#007020;font-weight:bold">break</span>;
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>一個 case 的特例是 default。它匹配了任何和其它 case 都不匹配的情況。例如：</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">switch</span> (<span style="color:#bb60d5">$i</span>) {
    <span style="color:#007020;font-weight:bold">case</span> <span style="color:#40a070">0</span><span style="color:#666">:</span>
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;i equals 0&#34;</span>;
        <span style="color:#007020;font-weight:bold">break</span>;
    <span style="color:#007020;font-weight:bold">case</span> <span style="color:#40a070">1</span><span style="color:#666">:</span>
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;i equals 1&#34;</span>;
        <span style="color:#007020;font-weight:bold">break</span>;
    <span style="color:#007020;font-weight:bold">case</span> <span style="color:#40a070">2</span><span style="color:#666">:</span>
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;i equals 2&#34;</span>;
        <span style="color:#007020;font-weight:bold">break</span>;
    <span style="color:#007020;font-weight:bold">default</span><span style="color:#666">:</span>
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;i is not equal to 0, 1 or 2&#34;</span>;
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="match">match</h3>
<p>與 switch 語句類似， match 表達式具有與多個備選方案進行比較的主題表達式，與 switch 不同，它將計算為一個很像三元表達式的值。與 switch 不同的是，比較的是強型別相等檢查 (===) 而不是弱型別相等檢查 (==)。匹配表達式從 PHP 8.0.0 開始可用。</p>
<p>範例如下:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>

<span style="color:#bb60d5">$age</span> <span style="color:#666">=</span> <span style="color:#40a070">23</span>;

<span style="color:#bb60d5">$result</span> <span style="color:#666">=</span> match (<span style="color:#007020;font-weight:bold">true</span>) {
    <span style="color:#bb60d5">$age</span> <span style="color:#666">&gt;=</span> <span style="color:#40a070">65</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;senior&#39;</span>,
    <span style="color:#bb60d5">$age</span> <span style="color:#666">&gt;=</span> <span style="color:#40a070">25</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;adult&#39;</span>,
    <span style="color:#bb60d5">$age</span> <span style="color:#666">&gt;=</span> <span style="color:#40a070">18</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;young adult&#39;</span>,
    <span style="color:#007020;font-weight:bold">default</span> <span style="color:#666">=&gt;</span> <span style="color:#4070a0">&#39;kid&#39;</span>,
};

var_dump(<span style="color:#bb60d5">$result</span>);
<span style="color:#007020;font-weight:bold">echo</span>(<span style="color:#bb60d5">$result</span>);
<span style="color:#007020">?&gt;</span>

// outputs:
// string(11) &#34;young adult&#34;
// young adult
</code></pre></div><hr>
<h3 id="declare">declare</h3>
<blockquote>
<p>declare 不是一個函數，算是一個語言結構</p>
</blockquote>
<p>declare 用來設定一段 code 的執行指令。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">declare (directive)
statement
</code></pre></div><p>directive 的部分允許設定 declare 代碼段的行為。</p>
<p>如果 declare 語句後面沒有括號，則該指令適用於文件中的其餘代碼。
以下為範例:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#60a0b0;font-style:italic">// 兩個相等：
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#60a0b0;font-style:italic">// 可以這樣用：
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">declare</span>(ticks<span style="color:#666">=</span><span style="color:#40a070">1</span>) {
    <span style="color:#60a0b0;font-style:italic">// 這裡寫腳本
</span><span style="color:#60a0b0;font-style:italic"></span>}

<span style="color:#60a0b0;font-style:italic">// 也可以這樣用：
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">declare</span>(ticks<span style="color:#666">=</span><span style="color:#40a070">1</span>);
<span style="color:#60a0b0;font-style:italic">// 這裡寫腳本
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>declare 指令是在文件編譯時處理的，所以指令只接受字面量的值。 無法使用變量和常量。下面為範例程式碼:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#60a0b0;font-style:italic">// 有效程式碼：
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">declare</span>(ticks<span style="color:#666">=</span><span style="color:#40a070">1</span>);

<span style="color:#60a0b0;font-style:italic">// 無效，無法指定常量：
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">const</span> <span style="color:#60add5">TICK_VALUE</span> <span style="color:#666">=</span> <span style="color:#40a070">1</span>;
<span style="color:#007020;font-weight:bold">declare</span>(ticks<span style="color:#666">=</span>TICK_VALUE);
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>可以聲明三個指令：ticks,encoding 和 strict_types.</p>
<p>ticks 每次執行指定數量(N)可計時的指令時，該指令都會發送一個 tick 事件。可以使用 register_tick_function() ，它會在每次 event 事件觸發時運行。</p>
<p>不是所有語句都可計時。通常條件表達式和參數表達式都不可計時。</p>
<p>以下為範例:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>

<span style="color:#007020;font-weight:bold">declare</span>(ticks<span style="color:#666">=</span><span style="color:#40a070">1</span>);

<span style="color:#60a0b0;font-style:italic">// 每次 tick 事件都會調用此函数
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">tick_handler</span>()
{
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;tick_handler() called</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
}

register_tick_function(<span style="color:#4070a0">&#39;tick_handler&#39;</span>);

<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#40a070">1</span>;

<span style="color:#007020;font-weight:bold">if</span> (<span style="color:#bb60d5">$a</span> <span style="color:#666">&gt;</span> <span style="color:#40a070">0</span>) {
    <span style="color:#bb60d5">$a</span> <span style="color:#666">+=</span> <span style="color:#40a070">2</span>;
    <span style="color:#007020;font-weight:bold">print</span>(<span style="color:#bb60d5">$a</span>);
}

<span style="color:#007020">?&gt;</span>
</code></pre></div><p>該 encoding 指令用於指示文件使用的字符編碼。它不能用於塊，它必須應用於整個文件。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">declare</span>(encoding<span style="color:#666">=</span><span style="color:#4070a0">&#39;ISO-8859-1&#39;</span>);
<span style="color:#60a0b0;font-style:italic">// code here
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>當 strict_types 指令設置，錯誤類型傳遞到函數參數時不會被強制轉換為正確的類型，而是拋出致命錯誤。</p>
<p>範例如下:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">// 正常情況下
<span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">add</span>(int <span style="color:#bb60d5">$a</span>, int <span style="color:#bb60d5">$b</span>)<span style="color:#666">:</span> int
{
    <span style="color:#007020;font-weight:bold">return</span> <span style="color:#bb60d5">$a</span> <span style="color:#666">+</span> <span style="color:#bb60d5">$b</span>;
}

var_dump(add(<span style="color:#40a070">1.0</span>, <span style="color:#40a070">1.0</span>));

<span style="color:#60a0b0;font-style:italic">// output
</span><span style="color:#60a0b0;font-style:italic">// int(2)
</span></code></pre></div><p>當使用 strict_types 後，變成強型別</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">declare</span>(strict_types<span style="color:#666">=</span><span style="color:#40a070">1</span>);    <span style="color:#60a0b0;font-style:italic">//加入这句
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">add</span>(int <span style="color:#bb60d5">$a</span>, int <span style="color:#bb60d5">$b</span>)<span style="color:#666">:</span> int
{
    <span style="color:#007020;font-weight:bold">return</span> <span style="color:#bb60d5">$a</span> <span style="color:#666">+</span> <span style="color:#bb60d5">$b</span>;
}

var_dump(add(<span style="color:#40a070">1.0</span>, <span style="color:#40a070">1.0</span>));

<span style="color:#60a0b0;font-style:italic">// 拋出TypeError:必須為integer整數
</span></code></pre></div><hr>
<h3 id="return">return</h3>
<p>return 將程序控制返還給調用模塊。將在調用模塊中執行的下一句表達式中繼續。</p>
<p>如果在一個函數中調用 return 語句，將立即結束此函數的執行並將它的參數作為函數的值返回。 return 也會終止 eval() 語句或者腳本文件的執行</p>
<p>eval(): 把字符串作為 PHP 代碼執行</p>
<hr>
<h3 id="require">require</h3>
<p>require 和 include 幾乎完全一樣，除了處理失敗的方式不同之外。 require 在出錯時產生 E_COMPILE_ERROR 級別的錯誤。換句話說將導致腳本中止而 include 只產生警告（E_WARNING），腳本會繼續運行。</p>
<hr>
<h3 id="include">include</h3>
<p>include 語句包含並運行指定文件。</p>
<p>以下也適用於 require。</p>
<p>被包含文件先按參數給出的路徑尋找，如果沒有給出目錄（只有文件名）時則按照 include_path 指定的目錄尋找。如果在 include_path 下沒找到該文件則 include 最後才在調用腳本文件所在的目錄和當前工作目錄下尋找。如果最後仍未找到文件則 include 結構會發出一條警告；這一點和 require 不同，後者會發出一個致命錯誤。</p>
<p>基本 include 用法:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">vars.php
<span style="color:#007020">&lt;?php</span>

<span style="color:#bb60d5">$color</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;red&#39;</span>;
<span style="color:#bb60d5">$car</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;vovlo&#39;</span>;

<span style="color:#007020">?&gt;</span>

test.php
<span style="color:#007020">&lt;?php</span>

<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;A </span><span style="color:#70a0d0;font-style:italic">$color</span><span style="color:#4070a0"> </span><span style="color:#70a0d0;font-style:italic">$car</span><span style="color:#4070a0">&#34;</span>; <span style="color:#60a0b0;font-style:italic">// A
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#007020;font-weight:bold">include</span> <span style="color:#4070a0">&#39;vars.php&#39;</span>;

<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;A </span><span style="color:#70a0d0;font-style:italic">$color</span><span style="color:#4070a0"> </span><span style="color:#70a0d0;font-style:italic">$car</span><span style="color:#4070a0">&#34;</span>; <span style="color:#60a0b0;font-style:italic">// A red vovlo
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>include 和 return 語句</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">return.php
<span style="color:#007020">&lt;?php</span>

<span style="color:#bb60d5">$var</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;PHP&#39;</span>;

<span style="color:#007020;font-weight:bold">return</span> <span style="color:#bb60d5">$var</span>;

<span style="color:#007020">?&gt;</span>

noreturn.php
<span style="color:#007020">&lt;?php</span>

<span style="color:#bb60d5">$var</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;PHP&#39;</span>;

<span style="color:#007020">?&gt;</span>

testreturns.php
<span style="color:#007020">&lt;?php</span>

<span style="color:#bb60d5">$foo</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">include</span> <span style="color:#4070a0">&#39;return.php&#39;</span>;

<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$foo</span>; <span style="color:#60a0b0;font-style:italic">// 輸出 &#39;PHP&#39;
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#bb60d5">$bar</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">include</span> <span style="color:#4070a0">&#39;noreturn.php&#39;</span>;

<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$bar</span>; <span style="color:#60a0b0;font-style:italic">// 輸出 1(因為成功返回true = 1)
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="require_once">require_once</h3>
<p>require_once 語句和 require 語句完全相同，唯一區別是 PHP 會檢查該文件是否已經被包含過，如果是則不會再次包含。</p>
<hr>
<h3 id="include_once">include_once</h3>
<p>include_once 語句在腳本執行期間包含並運行指定文件。此行為和 include 語句類似，唯一區別是如果該文件中已經被包含過，則不會再次包含，且 include_once 會返回 true。如同此語句名字暗示的那樣，該文件只會包含一次。 include_once 可以用於在腳本執行期間同一個文件有可能被包含超過一次的情況下，想確保它只被包含一次以避免函數重定義，變量重新賦值等問題。</p>
<h2 id="php-函數">PHP 函數</h2>
<h3 id="自定義函數">自定義函數</h3>
<p>函數可用以下語法來定義</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>(<span style="color:#bb60d5">$arg_1</span>, <span style="color:#bb60d5">$arg_2</span>, <span style="color:#60a0b0;font-style:italic">/* ..., */</span> <span style="color:#bb60d5">$arg_n</span>)
{
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Example function.</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    <span style="color:#007020;font-weight:bold">return</span> <span style="color:#bb60d5">$retval</span>;
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>函數不需要在使用之前被定義，除非是函數是有條件被定義時，才必須在使用前定義</p>
<p>舉以下範例</p>
<ol>
<li>有條件的函數:</li>
</ol>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>

<span style="color:#bb60d5">$makefoo</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">true</span>;

<span style="color:#60a0b0;font-style:italic">/* 不能在此處調用foo()函數，
</span><span style="color:#60a0b0;font-style:italic"> 因為它還不存在，但可以調用bar()函數。*/</span>

bar();

<span style="color:#007020;font-weight:bold">if</span> (<span style="color:#bb60d5">$makefoo</span>) {
  <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>()
  {
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;I don&#39;t exist until program execution reaches me.</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
  }
}

<span style="color:#60a0b0;font-style:italic">/* 現在可以安全調用函數 foo()
</span><span style="color:#60a0b0;font-style:italic">   因為 $makefoo 值為真true */</span>

<span style="color:#007020;font-weight:bold">if</span> (<span style="color:#bb60d5">$makefoo</span>) foo();

<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">bar</span>()
{
  <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;I exist immediately upon program start.</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
}

<span style="color:#007020">?&gt;</span>
</code></pre></div><ol start="2">
<li>函數中的函數</li>
</ol>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>()
{
  <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">bar</span>()
  {
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;I don&#39;t exist until foo() is called.</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
  }
}

<span style="color:#60a0b0;font-style:italic">/* 現在還不能調用 bar() 函數，因為它還不存在 */</span>

foo();

<span style="color:#60a0b0;font-style:italic">/* 現在可以調用 bar() 函數了，因為 foo() 函數的執行使得 bar() 函數變為已定義的函數 */</span>

bar();

<span style="color:#007020">?&gt;</span>
</code></pre></div><p>:::warning
PHP 中的所有函數和類都具有全局作用域，可以定義在一個函數之內而在之外調用，反之亦然。
PHP 不支持函數重載，也不可能取消定義或者重定義已聲明的函數。
:::</p>
<p>還有遞迴函數，也就是自己呼叫自己</p>
<p>舉個費氏數列的例子(從 0,1 開始，後面的數是前兩個數相加)</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">fib</span>(<span style="color:#bb60d5">$n</span>)
{
    <span style="color:#007020;font-weight:bold">if</span>(<span style="color:#bb60d5">$n</span> <span style="color:#666">==</span> <span style="color:#40a070">0</span>) <span style="color:#007020;font-weight:bold">return</span> <span style="color:#40a070">0</span>;
    <span style="color:#007020;font-weight:bold">if</span>(<span style="color:#bb60d5">$n</span> <span style="color:#666">==</span> <span style="color:#40a070">1</span>) <span style="color:#007020;font-weight:bold">return</span> <span style="color:#40a070">1</span>;
    <span style="color:#007020;font-weight:bold">return</span> fib(<span style="color:#bb60d5">$n</span><span style="color:#666">-</span><span style="color:#40a070">1</span>) <span style="color:#666">+</span> fib(<span style="color:#bb60d5">$n</span> <span style="color:#666">-</span> <span style="color:#40a070">2</span>);
}

<span style="color:#007020;font-weight:bold">for</span>(<span style="color:#bb60d5">$i</span> <span style="color:#666">=</span> <span style="color:#40a070">0</span>; <span style="color:#bb60d5">$i</span> <span style="color:#666">&lt;=</span> <span style="color:#40a070">5</span>; <span style="color:#bb60d5">$i</span><span style="color:#666">++</span>){
    <span style="color:#007020;font-weight:bold">echo</span> fib(<span style="color:#4070a0">&#34;</span><span style="color:#70a0d0;font-style:italic">$i</span><span style="color:#4070a0"> &#34;</span>);
}

<span style="color:#60a0b0;font-style:italic">// outputs
</span><span style="color:#60a0b0;font-style:italic">// 0,1,1,2,3,5
</span></code></pre></div><p>:::danger
注意: 但是要避免遞歸函數／方法調用超過 100-200 層，因為可能會使堆積崩潰從而使當前腳本終止。無限遞歸可視為編程錯誤
:::</p>
<hr>
<h3 id="函數的參數">函數的參數</h3>
<p>通過給予函數參數，傳遞訊息給函數，可以放入多個參數用逗號分隔，也可以設置參數默認的值。</p>
<h4 id="1-向函數傳遞-array">1. 向函數傳遞 array:</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">takes_array</span>(<span style="color:#bb60d5">$nums</span>)
{
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#39;$nums[0] + $nums[1] = &#39;</span>, <span style="color:#bb60d5">$nums</span>[<span style="color:#40a070">0</span>] <span style="color:#666">+</span> <span style="color:#bb60d5">$nums</span>[<span style="color:#40a070">1</span>];
}
</code></pre></div><p>從 php8 開始參數尾巴逗號是會被忽略的</p>
<h4 id="2-使用尾巴逗號">2. 使用尾巴逗號</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">takes_many_args</span>(
    <span style="color:#bb60d5">$first_name</span>,
    <span style="color:#bb60d5">$last_name</span>,
    <span style="color:#bb60d5">$age</span>,
    <span style="color:#bb60d5">$gender</span> <span style="color:#666">=</span> <span style="color:#40a070">1</span>,
    <span style="color:#bb60d5">$cellphone</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">null</span>, <span style="color:#60a0b0;font-style:italic">// 在 8.0.0 之前，尾部逗號是不允许的。
</span><span style="color:#60a0b0;font-style:italic"></span>)
{
    <span style="color:#60a0b0;font-style:italic">// ...
</span><span style="color:#60a0b0;font-style:italic"></span>}
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>從 PHP 8.0.0 開始，不推薦在可選參數之後傳遞強制參數。 這通常可以通過刪除默認值來解決。 此規則的一個例外是 Type $param = null 形式的參數，其中 null 默認值使類型隱式可為空。 這種用法仍然被允許，但建議改用顯式可為空類型。</p>
<h4 id="3-在強制參數之後傳遞可選參數">3. 在強制參數之後傳遞可選參數</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>(<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> [], <span style="color:#bb60d5">$b</span>) {} <span style="color:#60a0b0;font-style:italic">// 之前
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>(<span style="color:#bb60d5">$a</span>, <span style="color:#bb60d5">$b</span>) {}      <span style="color:#60a0b0;font-style:italic">// 之後
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">bar</span>(A <span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">null</span>, <span style="color:#bb60d5">$b</span>) {} <span style="color:#60a0b0;font-style:italic">// 同時可用
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">bar</span>(<span style="color:#666">?</span>A <span style="color:#bb60d5">$a</span>, <span style="color:#bb60d5">$b</span>) {}       <span style="color:#60a0b0;font-style:italic">// 官方推薦
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="4-在函數中使用默認參數">4. 在函數中使用默認參數</h4>
<p>PHP 還允許使用數組 array 和特殊類型 null 作為默認參數。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">makecoffee</span>(<span style="color:#bb60d5">$type</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#34;cappuccino&#34;</span>)
{
    <span style="color:#007020;font-weight:bold">return</span> <span style="color:#4070a0">&#34;Making a cup of </span><span style="color:#70a0d0;font-style:italic">$type</span><span style="color:#4070a0">.</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
}
<span style="color:#007020;font-weight:bold">echo</span> makecoffee();
<span style="color:#007020;font-weight:bold">echo</span> makecoffee(<span style="color:#007020;font-weight:bold">null</span>);
<span style="color:#007020;font-weight:bold">echo</span> makecoffee(<span style="color:#4070a0">&#34;espresso&#34;</span>);
<span style="color:#007020">?&gt;</span>

// outputs
// Making a cup of cappuccino.
// Making a cup of .
// Making a cup of espresso.
</code></pre></div><h4 id="5-函數默認參數的不正確用法">5. 函數默認參數的不正確用法</h4>
<p>默認值必須是常量表達式，不能是，如變量，類成員，或者函數調用等。 注意當使用默認參數時，任何默認參數必須放在任何非默認參數的右側；否則，函數將不會按照預期的情況工作。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">makeyogurt</span>(<span style="color:#bb60d5">$type</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#34;acidophilus&#34;</span>, <span style="color:#bb60d5">$flavour</span>)
{
    <span style="color:#007020;font-weight:bold">return</span> <span style="color:#4070a0">&#34;Making a bowl of </span><span style="color:#70a0d0;font-style:italic">$type</span><span style="color:#4070a0"> </span><span style="color:#70a0d0;font-style:italic">$flavour</span><span style="color:#4070a0">.</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
}

<span style="color:#007020;font-weight:bold">echo</span> makeyogurt(<span style="color:#4070a0">&#34;raspberry&#34;</span>);   <span style="color:#60a0b0;font-style:italic">// won&#39;t work as expected
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>

// Warning: Missing argument 2 in call to makeyogurt()
</code></pre></div><h4 id="6-函數默認參數正確用法">6. 函數默認參數正確用法</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">makeyogurt</span>(<span style="color:#bb60d5">$flavour</span>, <span style="color:#bb60d5">$type</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#34;acidophilus&#34;</span>)
{
    <span style="color:#007020;font-weight:bold">return</span> <span style="color:#4070a0">&#34;Making a bowl of </span><span style="color:#70a0d0;font-style:italic">$type</span><span style="color:#4070a0"> </span><span style="color:#70a0d0;font-style:italic">$flavour</span><span style="color:#4070a0">.</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
}

<span style="color:#007020;font-weight:bold">echo</span> makeyogurt(<span style="color:#4070a0">&#34;raspberry&#34;</span>);   <span style="color:#60a0b0;font-style:italic">// works as expected
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>

// outputs
// Making a bowl of acidophilus raspberry.
</code></pre></div><h4 id="7-使用--來訪問變量參數">7. 使用 &hellip; 來訪問變量參數</h4>
<p>PHP 在用戶自定義函數中支持可變數量的參數列表。由 &hellip; 語法實現。</p>
<p>包含 &hellip; 的參數，會轉換為指定參數變量的一個數組(類似字典)，以下示例：</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">sum</span>(<span style="color:#666">...</span><span style="color:#bb60d5">$numbers</span>) {
    <span style="color:#bb60d5">$acc</span> <span style="color:#666">=</span> <span style="color:#40a070">0</span>;
    <span style="color:#007020;font-weight:bold">foreach</span> (<span style="color:#bb60d5">$numbers</span> <span style="color:#007020;font-weight:bold">as</span> <span style="color:#bb60d5">$n</span>) {
        <span style="color:#bb60d5">$acc</span> <span style="color:#666">+=</span> <span style="color:#bb60d5">$n</span>;
    }
    <span style="color:#007020;font-weight:bold">return</span> <span style="color:#bb60d5">$acc</span>;
}

<span style="color:#007020;font-weight:bold">echo</span> sum(<span style="color:#40a070">1</span>, <span style="color:#40a070">2</span>, <span style="color:#40a070">3</span>, <span style="color:#40a070">4</span>);
<span style="color:#007020">?&gt;</span>

// 10
</code></pre></div><h4 id="8-使用來傳遞參數">8. 使用&hellip;來傳遞參數</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">add</span>(<span style="color:#bb60d5">$a</span>, <span style="color:#bb60d5">$b</span>) {
    <span style="color:#007020;font-weight:bold">return</span> <span style="color:#bb60d5">$a</span> <span style="color:#666">+</span> <span style="color:#bb60d5">$b</span>;
}

<span style="color:#007020;font-weight:bold">echo</span> add(<span style="color:#666">...</span>[<span style="color:#40a070">1</span>, <span style="color:#40a070">2</span>])<span style="color:#666">.</span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;

<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> [<span style="color:#40a070">1</span>, <span style="color:#40a070">2</span>];
<span style="color:#007020;font-weight:bold">echo</span> add(<span style="color:#666">...</span><span style="color:#bb60d5">$a</span>);
<span style="color:#007020">?&gt;</span>

// 3
// 3
</code></pre></div><h4 id="9-輸入提示的變量參數">9. 輸入提示的變量參數</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">total_intervals</span>(<span style="color:#bb60d5">$unit</span>, DateInterval <span style="color:#666">...</span><span style="color:#bb60d5">$intervals</span>) { <span style="color:#60a0b0;font-style:italic">// 必須傳遞DateInterval類的參數
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#bb60d5">$time</span> <span style="color:#666">=</span> <span style="color:#40a070">0</span>;
    <span style="color:#007020;font-weight:bold">foreach</span> (<span style="color:#bb60d5">$intervals</span> <span style="color:#007020;font-weight:bold">as</span> <span style="color:#bb60d5">$interval</span>) {
        <span style="color:#bb60d5">$time</span> <span style="color:#666">+=</span> <span style="color:#bb60d5">$interval</span><span style="color:#666">-&gt;</span><span style="color:#bb60d5">$unit</span>;
    }
    <span style="color:#007020;font-weight:bold">return</span> <span style="color:#bb60d5">$time</span>;
}

<span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> DateInterval(<span style="color:#4070a0">&#39;P1D&#39;</span>);
<span style="color:#bb60d5">$b</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> DateInterval(<span style="color:#4070a0">&#39;P2D&#39;</span>);
<span style="color:#007020;font-weight:bold">echo</span> total_intervals(<span style="color:#4070a0">&#39;d&#39;</span>, <span style="color:#bb60d5">$a</span>, <span style="color:#bb60d5">$b</span>)<span style="color:#666">.</span><span style="color:#4070a0">&#39; days&#39;</span>;

<span style="color:#60a0b0;font-style:italic">// This will fail, since null isn&#39;t a DateInterval object.
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">echo</span> total_intervals(<span style="color:#4070a0">&#39;d&#39;</span>, <span style="color:#007020;font-weight:bold">null</span>);
<span style="color:#007020">?&gt;</span>

// outputs
// 3 days
// Catchable fatal error: Argument 2 passed to total_intervals() must be an instance of DateInterval,
// null given, called in - on line 14 and defined in - on line 2
</code></pre></div><h4 id="命名函數">命名函數</h4>
<p>PHP 8.0.0 開始引入了命名參數作為現有位置參數的擴展。命名參數允許根據參數名而不是參數位置向函數傳參。這使得參數的含義自成體系，參數與順序無關，並允許任意跳過默認值。</p>
<p>命名參數通過在參數名前加上冒號來傳遞。允許使用保留關鍵字作為參數名。參數名必須是一個標識符，不允許動態指定。</p>
<h4 id="10-命名參數語法">10. 命名參數語法</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">myFunction</span>(<span style="color:#bb60d5">$paramName</span>){
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$paramName</span>;
}
myFunction(paramName<span style="color:#666">:</span> <span style="color:#bb60d5">$value</span>);  <span style="color:#60a0b0;font-style:italic">// $value指定給予paramName這個參數
</span><span style="color:#60a0b0;font-style:italic"></span>array_foobar(<span style="color:#007020;font-weight:bold">array</span><span style="color:#666">:</span> <span style="color:#bb60d5">$value</span>);

<span style="color:#60a0b0;font-style:italic">// NOT supported.
</span><span style="color:#60a0b0;font-style:italic"></span>function_name(<span style="color:#bb60d5">$variableStoringParamName</span><span style="color:#666">:</span> <span style="color:#bb60d5">$value</span>); <span style="color:#60a0b0;font-style:italic">// 不能動態指定
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="11-通過位置傳參與命名參數的對比">11. 通過位置傳參與命名參數的對比</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#60a0b0;font-style:italic">// 使用順序傳遞：
</span><span style="color:#60a0b0;font-style:italic"></span>array_fill(<span style="color:#40a070">0</span>, <span style="color:#40a070">100</span>, <span style="color:#40a070">50</span>);

<span style="color:#60a0b0;font-style:italic">// 使用命名參數：
</span><span style="color:#60a0b0;font-style:italic"></span>array_fill(start_index<span style="color:#666">:</span> <span style="color:#40a070">0</span>, count<span style="color:#666">:</span> <span style="color:#40a070">100</span>, value<span style="color:#666">:</span> <span style="color:#40a070">50</span>);
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>順序不重要，下面輸出跟上面一樣</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
array_fill(value<span style="color:#666">:</span> <span style="color:#40a070">50</span>, count<span style="color:#666">:</span> <span style="color:#40a070">100</span>, start_index<span style="color:#666">:</span> <span style="color:#40a070">0</span>);
<span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="12-不可多次傳遞給同一個參數">12. 不可多次傳遞給同一個參數</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>(<span style="color:#bb60d5">$param</span>) { <span style="color:#666">...</span> }

foo(param<span style="color:#666">:</span> <span style="color:#40a070">1</span>, param<span style="color:#666">:</span> <span style="color:#40a070">2</span>);
<span style="color:#60a0b0;font-style:italic">// Error: Named parameter $param overwrites previous argument
</span><span style="color:#60a0b0;font-style:italic"></span>foo(<span style="color:#40a070">1</span>, param<span style="color:#666">:</span> <span style="color:#40a070">2</span>);
<span style="color:#60a0b0;font-style:italic">// Error: Named parameter $param overwrites previous argument
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="返回值-return">返回值 return</h3>
<p>值通過使用可選的返回語句返回。可以返回包括數組和對象的任意類型。返回語句會立即中止函數的運行，並且將控制權交回調用該函數的代碼行</p>
<p>:::warning
如果省略了 return，則返回值為 null。
:::</p>
<h4 id="1-基礎語法">1. 基礎語法</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">square</span>(<span style="color:#bb60d5">$num</span>)
{
    <span style="color:#007020;font-weight:bold">return</span> <span style="color:#bb60d5">$num</span> <span style="color:#666">*</span> <span style="color:#bb60d5">$num</span>;
}
<span style="color:#007020;font-weight:bold">echo</span> square(<span style="color:#40a070">5</span>);   <span style="color:#60a0b0;font-style:italic">// outputs &#39;25&#39;.
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="2-返回一個數組以得到多個返回值">2. 返回一個數組以得到多個返回值</h4>
<p>函數不能返回多個值，但可以通過返回一個數組來得到類似的效果。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">small_numbers</span>()
{
    <span style="color:#007020;font-weight:bold">return</span> [<span style="color:#40a070">0</span>, <span style="color:#40a070">1</span>, <span style="color:#40a070">2</span>];
}
<span style="color:#60a0b0;font-style:italic">// 使用短數組語法將数组中的值賦给一組變數
</span><span style="color:#60a0b0;font-style:italic"></span>[<span style="color:#bb60d5">$zero</span>, <span style="color:#bb60d5">$one</span>, <span style="color:#bb60d5">$two</span>] <span style="color:#666">=</span> small_numbers();

<span style="color:#60a0b0;font-style:italic">// 在 7.1.0 之前，唯一相等的選擇是使用 list() 結構
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">list</span>(<span style="color:#bb60d5">$zero</span>, <span style="color:#bb60d5">$one</span>, <span style="color:#bb60d5">$two</span>) <span style="color:#666">=</span> small_numbers();
<span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="3-返回一個引用">3. 返回一個引用</h4>
<p>從函數返回一個引用，必須在函數聲明和指派返回值給一個變量時都使用引用運算符 &amp;</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#666">&amp;</span><span style="color:#06287e">returns_reference</span>()
{
    <span style="color:#007020;font-weight:bold">return</span> <span style="color:#bb60d5">$someref</span>;
}

<span style="color:#bb60d5">$newref</span> <span style="color:#666">=&amp;</span> returns_reference();
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="可變函數">可變函數</h3>
<p>PHP 支持可變函數的概念。就是說如果一個變量名後有圓括號，PHP 就會先去尋找這個變數名稱的函數執行。可變函數可以用來實現包括回調函數，以及函數表在內的一些用途。</p>
<p>來看看範例</p>
<h4 id="1-可變函數示例">1. 可變函數示例</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>() {
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;In foo()&lt;br /&gt;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
}

<span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">bar</span>(<span style="color:#bb60d5">$arg</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;&#39;</span>)
{
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;In bar(); argument was &#39;</span><span style="color:#70a0d0;font-style:italic">$arg</span><span style="color:#4070a0">&#39;.&lt;br /&gt;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
}

<span style="color:#60a0b0;font-style:italic">// 使用名為 echo 的函數
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">echoit</span>(<span style="color:#bb60d5">$string</span>)
{
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$string</span>;
}

<span style="color:#bb60d5">$func</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;foo&#39;</span>;
<span style="color:#bb60d5">$func</span>();        <span style="color:#60a0b0;font-style:italic">// This calls foo()
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#bb60d5">$func</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;bar&#39;</span>;
<span style="color:#bb60d5">$func</span>(<span style="color:#4070a0">&#39;test&#39;</span>);  <span style="color:#60a0b0;font-style:italic">// This calls bar()
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#bb60d5">$func</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;echoit&#39;</span>;
<span style="color:#bb60d5">$func</span>(<span style="color:#4070a0">&#39;test&#39;</span>);  <span style="color:#60a0b0;font-style:italic">// This calls echoit()
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="2-可變方法範例">2. 可變方法範例</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Foo</span>
{
    <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">Variable</span>()
    {
        <span style="color:#bb60d5">$name</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;Bar&#39;</span>;
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#bb60d5">$name</span>(); <span style="color:#60a0b0;font-style:italic">// This calls the Bar() method
</span><span style="color:#60a0b0;font-style:italic"></span>    }

    <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">Bar</span>()
    {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;This is Bar&#34;</span>;
    }
}

<span style="color:#bb60d5">$foo</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> Foo();
<span style="color:#bb60d5">$funcname</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#34;Variable&#34;</span>;
<span style="color:#bb60d5">$foo</span><span style="color:#666">-&gt;</span><span style="color:#bb60d5">$funcname</span>();  <span style="color:#60a0b0;font-style:italic">// This calls $foo-&gt;Variable()
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="3-variable-方法和靜態屬性範例">3. Variable 方法和靜態屬性範例</h4>
<p>當調用靜態方法時，函數調用要比靜態屬性優先</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Foo</span>
{
    <span style="color:#007020;font-weight:bold">static</span> <span style="color:#bb60d5">$variable</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;static property&#39;</span>;
    <span style="color:#007020;font-weight:bold">static</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">Variable</span>()
    {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#39;Method Variable called&#39;</span>;
    }
}

<span style="color:#007020;font-weight:bold">echo</span> Foo<span style="color:#666">::</span><span style="color:#bb60d5">$variable</span>; <span style="color:#60a0b0;font-style:italic">// This prints &#39;static property&#39;. It does need a $variable in this scope.
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$variable</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#34;Variable&#34;</span>;
Foo<span style="color:#666">::</span><span style="color:#bb60d5">$variable</span>();  <span style="color:#60a0b0;font-style:italic">// This calls $foo-&gt;Variable() reading $variable in this scope.
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="4-複雜的可調用對象">4. 複雜的可調用對象</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Foo</span>
{
    <span style="color:#007020;font-weight:bold">static</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">bar</span>()
    {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;bar</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }
    <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">baz</span>()
    {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;baz</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }
}

<span style="color:#bb60d5">$func</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>(<span style="color:#4070a0">&#34;Foo&#34;</span>, <span style="color:#4070a0">&#34;bar&#34;</span>);
<span style="color:#bb60d5">$func</span>(); <span style="color:#60a0b0;font-style:italic">// prints &#34;bar&#34;
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$func</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>(<span style="color:#007020;font-weight:bold">new</span> Foo, <span style="color:#4070a0">&#34;baz&#34;</span>);
<span style="color:#bb60d5">$func</span>(); <span style="color:#60a0b0;font-style:italic">// prints &#34;baz&#34;
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$func</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#34;Foo::bar&#34;</span>;
<span style="color:#bb60d5">$func</span>(); <span style="color:#60a0b0;font-style:italic">// prints &#34;bar&#34;
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#60a0b0;font-style:italic">// 這樣可是會出錯的哦，沒有先實體化類別
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$func</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>(<span style="color:#4070a0">&#34;Foo&#34;</span>, <span style="color:#4070a0">&#34;baz&#34;</span>);
<span style="color:#bb60d5">$func</span>(); <span style="color:#60a0b0;font-style:italic">// Uncaught Error: Non-static method Foo::baz() cannot be called statically in ....
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="内部内置函数">内部（内置）函数</h3>
<p>PHP 有很多標準的函數和結構。還有一些函數需要和特定地 PHP 擴展模塊一起編譯，否則在使用它們的時候就會得到一個致命的“未定義函數”錯誤。</p>
<p>例如要連接 MySQL，要使用 mysqli_connect() 函數，就需要在編譯 PHP 的時候加上 MySQLi 支持。可以使用 phpinfo() 或者 get_loaded_extensions() 可以得知 PHP 加載了那些擴展庫</p>
<hr>
<h3 id="匿名函数">匿名函数</h3>
<p>匿名函數（Anonymous functions），也稱作閉包函數（closures），它允許臨時創建一個沒有指定名稱的函數。最經常用作回調函數 callable 參數的值。當然，也有其它應用的情況。</p>
<h4 id="1-匿名函數範例">1. 匿名函數範例</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#60a0b0;font-style:italic">// 使用回調執行正則表達式搜索和替換
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">echo</span> preg_replace_callback(<span style="color:#4070a0">&#39;~-([a-z])~&#39;</span>, <span style="color:#007020;font-weight:bold">function</span> (<span style="color:#bb60d5">$match</span>) {
    <span style="color:#007020;font-weight:bold">return</span> strtoupper(<span style="color:#bb60d5">$match</span>[<span style="color:#40a070">1</span>]);  <span style="color:#60a0b0;font-style:italic">// 將所選的變成大寫，從index: 1開始過濾掉原先&#34;-&#34;
</span><span style="color:#60a0b0;font-style:italic"></span>}, <span style="color:#4070a0">&#39;hello-world&#39;</span>);
<span style="color:#60a0b0;font-style:italic">// 输出 helloWorld
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><p>閉包函數也可以作為變量的值來使用。 PHP 會自動把此種表達式轉換成內置類 Closure 的對象實例。把一個 closure 對象賦值給一個變量的方式與普通變量賦值的語法是一樣的，最後也要加上分號 ；</p>
<h4 id="2-匿名函數變量賦值示例">2. 匿名函數變量賦值示例</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$sayHi</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">function</span>(<span style="color:#bb60d5">$name</span>)
{
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Hello </span><span style="color:#70a0d0;font-style:italic">$name</span><span style="color:#4070a0">&#34;</span>;
}; <span style="color:#60a0b0;font-style:italic">// 記得加上分號
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#bb60d5">$sayHi</span>(<span style="color:#4070a0">&#39;joe&#39;</span>);
<span style="color:#bb60d5">$sayHi</span>(<span style="color:#4070a0">&#39;cherry&#39;</span>);
<span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="3-從父作用域繼承變數">3. 從父作用域繼承變數</h4>
<p>閉包可以從父作用域中繼承變量。任何此類變量都應該用 use 語言結構傳遞進去。</p>
<p>PHP 7.1 起，不能傳入此類變量： superglobals(超全局便量)、 $this 或者和參數重名。</p>
<p>從 PHP 8.0.0 開始，作用域繼承的變量列表可能包含一個尾部的逗號，這個逗號將被忽略</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$message</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;hello&#39;</span>;

<span style="color:#60a0b0;font-style:italic">// 没有 &#34;use&#34; php會不知道這變數從哪來
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$example</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">function</span> () {
    var_dump(<span style="color:#bb60d5">$message</span>);
};
<span style="color:#bb60d5">$example</span>();

<span style="color:#60a0b0;font-style:italic">// 繼承父作用域 $message
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$example</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">function</span> () <span style="color:#007020;font-weight:bold">use</span> (<span style="color:#bb60d5">$message</span>) {
    var_dump(<span style="color:#bb60d5">$message</span>);
};
<span style="color:#bb60d5">$example</span>();

<span style="color:#60a0b0;font-style:italic">// Inherited variable&#39;s value is from when the function
</span><span style="color:#60a0b0;font-style:italic">// is defined, not when called
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$message</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;world&#39;</span>;
<span style="color:#bb60d5">$example</span>();  <span style="color:#60a0b0;font-style:italic">// 不會受到改變因為已經在上面先調用了(14行)
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#60a0b0;font-style:italic">// Reset message
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$message</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;hello&#39;</span>;

<span style="color:#60a0b0;font-style:italic">// Inherit by-reference
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$example</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">function</span> () <span style="color:#007020;font-weight:bold">use</span> (<span style="color:#666">&amp;</span><span style="color:#bb60d5">$message</span>) {
    var_dump(<span style="color:#bb60d5">$message</span>);
};
<span style="color:#bb60d5">$example</span>();

<span style="color:#60a0b0;font-style:italic">// The changed value in the parent scope
</span><span style="color:#60a0b0;font-style:italic">// is reflected inside the function call
</span><span style="color:#60a0b0;font-style:italic">// 父作用域更改值，影響函式回調
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$message</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;world&#39;</span>;
<span style="color:#bb60d5">$example</span>();

<span style="color:#60a0b0;font-style:italic">// Closures can also accept regular arguments
</span><span style="color:#60a0b0;font-style:italic">// 閉包可使用常規變數
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$example</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">function</span> (<span style="color:#bb60d5">$arg</span>) <span style="color:#007020;font-weight:bold">use</span> (<span style="color:#bb60d5">$message</span>) {
    var_dump(<span style="color:#bb60d5">$arg</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#39; &#39;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">$message</span>);
};
<span style="color:#bb60d5">$example</span>(<span style="color:#4070a0">&#34;hello&#34;</span>);
<span style="color:#007020">?&gt;</span>

// outputs
// Notice: Undefined variable: ...
// NULL
// string(5) &#34;hello&#34;
// string(5) &#34;hello&#34;
// string(5) &#34;hello&#34;
// string(5) &#34;world&#34;
// string(11) &#34;hello world&#34;
</code></pre></div><hr>
<h3 id="箭頭函數">箭頭函數</h3>
<p>箭頭函數是更簡潔的匿名函數，都是屬於 Closure 類(閉包)的實現</p>
<p>箭頭函數的語法為 <code>fn (argument_list) =&gt; expr。</code></p>
<p>箭頭函數支持與 匿名函數 相同的功能，只是其父作用域的變量總是自動的。 當表達式中使用的變量是在父作用域中定義的，它將被隱式地按值捕獲。</p>
<p>在下面的例子中，函數 $fn1 和 $fn2 的行為是一樣的</p>
<h4 id="1-箭頭函數自動捕捉變數的值">1. 箭頭函數自動捕捉變數的值</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>

<span style="color:#bb60d5">$y</span> <span style="color:#666">=</span> <span style="color:#40a070">1</span>;

<span style="color:#bb60d5">$fn1</span> <span style="color:#666">=</span> fn(<span style="color:#bb60d5">$x</span>) <span style="color:#666">=&gt;</span> <span style="color:#bb60d5">$x</span> <span style="color:#666">+</span> <span style="color:#bb60d5">$y</span>;

<span style="color:#60a0b0;font-style:italic">// 相當於 using $y by value:
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$fn2</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">function</span> (<span style="color:#bb60d5">$x</span>) <span style="color:#007020;font-weight:bold">use</span> (<span style="color:#bb60d5">$y</span>) {
    <span style="color:#007020;font-weight:bold">return</span> <span style="color:#bb60d5">$x</span> <span style="color:#666">+</span> <span style="color:#bb60d5">$y</span>;
};

<span style="color:#60a0b0;font-style:italic">// var_export -- 輸出或返回一個變量的字串表示
</span><span style="color:#60a0b0;font-style:italic"></span>var_export(<span style="color:#bb60d5">$fn1</span>(<span style="color:#40a070">3</span>)); <span style="color:#60a0b0;font-style:italic">// 4
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="2-箭頭函數自動捕捉變量的值即使在嵌套的情況下">2. 箭頭函數自動捕捉變量的值，即使在嵌套的情況下</h4>
<p>通常在 A 程序執行中，尚未結束前又開始執行 B 程序，B 程序結束後，繼續執行 A 程序，就稱為嵌套。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>

<span style="color:#bb60d5">$z</span> <span style="color:#666">=</span> <span style="color:#40a070">1</span>;
<span style="color:#bb60d5">$fn</span> <span style="color:#666">=</span> fn(<span style="color:#bb60d5">$x</span>) <span style="color:#666">=&gt;</span> fn(<span style="color:#bb60d5">$y</span>) <span style="color:#666">=&gt;</span> <span style="color:#bb60d5">$x</span> <span style="color:#666">*</span> <span style="color:#bb60d5">$y</span> <span style="color:#666">+</span> <span style="color:#bb60d5">$z</span>;
<span style="color:#60a0b0;font-style:italic">// 輸出 21
</span><span style="color:#60a0b0;font-style:italic"></span>var_export(<span style="color:#bb60d5">$fn</span>(<span style="color:#40a070">5</span>)(<span style="color:#40a070">4</span>));
<span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="3-箭頭函數有效用法例子">3. 箭頭函數有效用法例子</h4>
<p>和匿名函數一樣，箭頭函數語法同樣允許標準的函數聲明，包括參數和返回類型、缺省值、變量，以及通過引用傳遞和返回。以下都是箭頭函數的有效例子。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>

fn(<span style="color:#007020;font-weight:bold">array</span> <span style="color:#bb60d5">$x</span>) <span style="color:#666">=&gt;</span> <span style="color:#bb60d5">$x</span>;
<span style="color:#007020;font-weight:bold">static</span> fn()<span style="color:#666">:</span> int <span style="color:#666">=&gt;</span> <span style="color:#bb60d5">$x</span>;
fn(<span style="color:#bb60d5">$x</span> <span style="color:#666">=</span> <span style="color:#40a070">42</span>) <span style="color:#666">=&gt;</span> <span style="color:#bb60d5">$x</span>;
fn(<span style="color:#666">&amp;</span><span style="color:#bb60d5">$x</span>) <span style="color:#666">=&gt;</span> <span style="color:#bb60d5">$x</span>;
fn<span style="color:#666">&amp;</span>(<span style="color:#bb60d5">$x</span>) <span style="color:#666">=&gt;</span> <span style="color:#bb60d5">$x</span>;
fn(<span style="color:#bb60d5">$x</span>, <span style="color:#666">...</span><span style="color:#bb60d5">$rest</span>) <span style="color:#666">=&gt;</span> <span style="color:#bb60d5">$rest</span>;

<span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="4-來自外部範圍的值不能在箭頭函數內修改">4. 來自外部範圍的值不能在箭頭函數內修改</h4>
<p>箭頭函數會自動綁定上下文變量，這相當於對箭頭函數內部使用的每一個變量 $x 執行了一個 use($x)。這意味著不可能修改外部作用域的任何值，若要實現對值的修改，可以使用 匿名函數 來替代。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>

<span style="color:#bb60d5">$x</span> <span style="color:#666">=</span> <span style="color:#40a070">1</span>;
<span style="color:#bb60d5">$fn</span> <span style="color:#666">=</span> fn() <span style="color:#666">=&gt;</span> <span style="color:#bb60d5">$x</span><span style="color:#666">++</span>; <span style="color:#60a0b0;font-style:italic">// 不會影響 x 的值
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$fn</span>();
var_export(<span style="color:#bb60d5">$x</span>);  <span style="color:#60a0b0;font-style:italic">// 輸出 1
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#007020">?&gt;</span>
</code></pre></div><h2 id="class-類">class 類</h2>
<h3 id="class-基本">class 基本</h3>
<p>每個類的定義都以關鍵字 class 開頭，後面跟著類的名，再一個括號，裡面包含有類的屬性與方法的定義。</p>
<p>一個類可以包含有屬於自己的 常量，變量（稱為“屬性”）以及函數（稱為“方法”）。</p>
<p>當要調用內部屬性或方法時可以使用$this，$this 是一個到當前對象的引用。</p>
<h5 id="1-簡單的類定義">1. 簡單的類定義</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">SimpleClass</span>
{
    <span style="color:#60a0b0;font-style:italic">// 聲明屬性
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#bb60d5">$var</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;a default value&#39;</span>;

    <span style="color:#60a0b0;font-style:italic">// 聲明方法
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">displayVar</span>() {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">var</span>;
    }
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="new">new</h4>
<p>要創建一個類的實例，必須使用 new 關鍵字。當創建新對象時該對象總是被賦值，除非該對象定義了 構造函數 並且在出錯時拋出了一個 異常。</p>
<p>構造函數 : 類中的一個特殊函數，當使用 new 操作符創建一個類的實例時，構造函數將會自動調用。當函數與類同名時，這個函數將成為構造函數。如果一個類沒有構造函數，則調用基類的構造函數，如果有的話</p>
<p>類應在被實例化之前定義（某些情況下則必須這樣）。</p>
<p>如果在 new 之後跟著的是一個包含有類名的字符串 string，則該類的一個實例被創建。如果該類屬於一個命名空間，則必須使用其完整名稱。</p>
<p>:::warning
如果沒有參數要傳遞給類的構造函數，類名後的括號則可以省略掉。
:::</p>
<h5 id="2-創建實例">2. 創建實例</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#bb60d5">$instance</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> SimpleClass();

<span style="color:#60a0b0;font-style:italic">// 也可以這樣做：
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$className</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;SimpleClass&#39;</span>;
<span style="color:#bb60d5">$instance</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> <span style="color:#bb60d5">$className</span>(); <span style="color:#60a0b0;font-style:italic">// new SimpleClass()
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><h5 id="3-創建新對象">3. 創建新對象</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Test</span>
{
    <span style="color:#007020;font-weight:bold">static</span> <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">getNew</span>()
    {
        <span style="color:#007020;font-weight:bold">return</span> <span style="color:#007020;font-weight:bold">new</span> <span style="color:#007020;font-weight:bold">static</span>;
    }
}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Child</span> <span style="color:#007020;font-weight:bold">extends</span> Test
{}

<span style="color:#bb60d5">$obj1</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> Test();
<span style="color:#bb60d5">$obj2</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> <span style="color:#bb60d5">$obj1</span>;
var_dump(<span style="color:#bb60d5">$obj1</span> <span style="color:#666">!==</span> <span style="color:#bb60d5">$obj2</span>);

<span style="color:#bb60d5">$obj3</span> <span style="color:#666">=</span> Test<span style="color:#666">::</span><span style="color:#4070a0">getNew</span>();
var_dump(<span style="color:#bb60d5">$obj3</span> instanceof Test);

<span style="color:#bb60d5">$obj4</span> <span style="color:#666">=</span> Child<span style="color:#666">::</span><span style="color:#4070a0">getNew</span>();
var_dump(<span style="color:#bb60d5">$obj4</span> instanceof Child);
<span style="color:#007020">?&gt;</span>

// outputs
// bool(true)
// bool(true)
// bool(true)
</code></pre></div><h4 id="屬性和方法">屬性和方法</h4>
<p>類的屬性和方法存在於不同的“命名空間”中，這代表說同一個類的屬性和方法可以使用同樣的名字。在類中訪問屬性和調用方法使用同樣的操作符，那到底是訪問一個屬性還是調用一個方法，取決於你的上下文，即用法是變數的訪問還是函數的調用。</p>
<h5 id="4-訪問類屬性-vs-調用類方法">4. 訪問類屬性 vs. 調用類方法</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Foo</span>
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#bb60d5">$bar</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;property&#39;</span>;

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">bar</span>() {
        <span style="color:#007020;font-weight:bold">return</span> <span style="color:#4070a0">&#39;method&#39;</span>;
    }
}

<span style="color:#bb60d5">$obj</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> Foo();
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$obj</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">bar</span>, PHP_EOL, <span style="color:#bb60d5">$obj</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">bar</span>(), PHP_EOL; <span style="color:#60a0b0;font-style:italic">// PHP_EOL: php換行符號
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#60a0b0;font-style:italic">// property
</span><span style="color:#60a0b0;font-style:italic">// method
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><h5 id="5-類屬性被賦值為匿名函數時的調用示例">5. 類屬性被賦值為匿名函數時的調用示例</h5>
<p>如果你的類屬性被分配給一個 匿名函數 你將無法直接調用它。因為訪問 class 類屬性的優先級要更高，在此場景下需要用括號括起來使用。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Foo</span>
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#bb60d5">$bar</span>;

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> __construct() {
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">bar</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">function</span>() {
            <span style="color:#007020;font-weight:bold">return</span> <span style="color:#40a070">10</span>;
        };
    }
}

<span style="color:#bb60d5">$obj</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> Foo();

<span style="color:#007020;font-weight:bold">echo</span> (<span style="color:#bb60d5">$obj</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">bar</span>)(), PHP_EOL; <span style="color:#60a0b0;font-style:italic">// 10
</span></code></pre></div><h4 id="extends-繼承">extends 繼承</h4>
<p>一個類可以在聲明中用 extends 關鍵字繼承另一個類的方法和屬性。 PHP 不支持多重繼承，一個類只能繼承一個基類。</p>
<p>被繼承的方法和屬性可以通過用同樣的名字重新聲明被覆蓋。但是如果父類定義方法時使用了 final 關鍵字，則該方法不可被覆蓋。可以通過 parent:: 來訪問被覆蓋的方法或屬性</p>
<h5 id="6-簡單的類繼承範例">6. 簡單的類繼承範例</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">ExtendClass</span> <span style="color:#007020;font-weight:bold">extends</span> SimpleClass
{
    <span style="color:#60a0b0;font-style:italic">// 同樣名稱的方法，將會覆蓋父類的方法
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">displayVar</span>()
    {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Extending class</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
        <span style="color:#007020;font-weight:bold">parent</span><span style="color:#666">::</span><span style="color:#4070a0">displayVar</span>();
    }
}

<span style="color:#bb60d5">$extended</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> ExtendClass();
<span style="color:#bb60d5">$extended</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">displayVar</span>();

<span style="color:#60a0b0;font-style:italic">// outputs
</span><span style="color:#60a0b0;font-style:italic">// Extending class
</span><span style="color:#60a0b0;font-style:italic">// a default value
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="簽名兼容性規則">簽名兼容性規則</h4>
<p>當覆蓋（override）方法時，簽名必須兼容父類方法。否則會導致 Fatal 錯誤（PHP 8.0.0 之前是 E_WARNING 級錯誤）。兼容簽名是指：遵守協變與逆變規則； 強制參數可以改為可選參數；新參數為可選參數。這就是著名的里氏替換原則（Liskov Substitution Principle），簡稱 LSP。不過構造器和 私有（private）方法不需要遵循簽名兼容規則， 哪怕簽名不匹配也不會導致 Fatal(致命) 錯誤</p>
<h5 id="7-兼容子類方法">7. 兼容子類方法</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Base</span>
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>(int <span style="color:#bb60d5">$a</span>) {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Valid</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }
}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Extend1</span> <span style="color:#007020;font-weight:bold">extends</span> Base
{
    <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>(int <span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#40a070">5</span>) <span style="color:#60a0b0;font-style:italic">// 新參數為可選參數
</span><span style="color:#60a0b0;font-style:italic"></span>    {
        <span style="color:#007020;font-weight:bold">parent</span><span style="color:#666">::</span><span style="color:#4070a0">foo</span>(<span style="color:#bb60d5">$a</span>);
    }
}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Extend2</span> <span style="color:#007020;font-weight:bold">extends</span> Base
{
    <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>(int <span style="color:#bb60d5">$a</span>, <span style="color:#bb60d5">$b</span> <span style="color:#666">=</span> <span style="color:#40a070">5</span>)
    {
        <span style="color:#007020;font-weight:bold">parent</span><span style="color:#666">::</span><span style="color:#4070a0">foo</span>(<span style="color:#bb60d5">$a</span>);
    }
}

<span style="color:#bb60d5">$extended1</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> Extend1();
<span style="color:#bb60d5">$extended1</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">foo</span>();
<span style="color:#bb60d5">$extended2</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> Extend2();
<span style="color:#bb60d5">$extended2</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">foo</span>(<span style="color:#40a070">1</span>);


<span style="color:#60a0b0;font-style:italic">// 輸出
</span><span style="color:#60a0b0;font-style:italic">// Valid
</span><span style="color:#60a0b0;font-style:italic">// Valid
</span></code></pre></div><h5 id="8子類方法移除參數后導致-fatal致命-錯誤">8.子類方法移除參數后，導致 Fatal(致命) 錯誤</h5>
<p>演示子類與父類方法不兼容的例子：通過移除參數、修改可選參數為必填參數。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Base</span>
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>(int <span style="color:#bb60d5">$a</span> <span style="color:#666">=</span> <span style="color:#40a070">5</span>) {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Valid</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }
}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Extend</span> <span style="color:#007020;font-weight:bold">extends</span> Base
{
    <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>()
    {
        <span style="color:#007020;font-weight:bold">parent</span><span style="color:#666">::</span><span style="color:#4070a0">foo</span>(<span style="color:#40a070">1</span>);
    }
}

<span style="color:#60a0b0;font-style:italic">// 聲明必須與Base class 的foo方法兼容
</span><span style="color:#60a0b0;font-style:italic">//Fatal error: Declaration of Extend::foo() must be compatible with Base::foo(int $a = 5)
</span></code></pre></div><h4 id="class">::class</h4>
<p>關鍵詞 class 也可用於類名的解析。使用 ClassName::class 可以獲取包含類 ClassName 的完全限定名稱。這對使用了 命名空間 的類尤其有用。</p>
<h5 id="9-類名的解析">9. 類名的解析</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">namespace</span> NS {
    <span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">ClassName</span> {
    }

    <span style="color:#007020;font-weight:bold">echo</span> ClassName<span style="color:#666">::</span><span style="color:#4070a0">class</span>;
}
<span style="color:#007020">?&gt;</span>
// 輸出
// NS\ClassName
</code></pre></div><p>:::warning
使用 ::class 解析類名操作會在底層編譯時進行。這意味著在執行該操作時，類還沒有被加載。因此，即使要調用的類不存在，類名也會被展示。在此種場景下，並不會發生錯誤。</p>
<h5 id="10-解析不存在的類名">10. 解析不存在的類名</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">print</span> Does\Not\Exist<span style="color:#666">::</span><span style="color:#4070a0">class</span>;
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>輸出: <code>Does\Not\Exist</code>
:::</p>
<h5 id="11-類名解析">11. 類名解析</h5>
<p>自 PHP 8.0.0 起，與上述情況不同，此時解析將會在運行時進行。此操作的運行結果和 get_class() 函數一致</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">namespace</span> NS {
    <span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">ClassName</span> {
    }
}
<span style="color:#bb60d5">$c</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> ClassName();
<span style="color:#007020;font-weight:bold">print</span> <span style="color:#bb60d5">$c</span><span style="color:#666">::</span><span style="color:#4070a0">class</span>;
<span style="color:#007020">?&gt;</span>

// 輸出
// NS\ClassName
</code></pre></div><h4 id="nullsafe-方法和屬性">Nullsafe 方法和屬性</h4>
<p>自 PHP 8.0.0 起，類屬性和方法可以通過&quot;nullsafe&rdquo; 操作符訪問：除了一處不同，nullsafe 操作符和以上原來的屬性、方法訪問是一致的： 對象引用解析（dereference）為 並且如果是鍊式調用中的一部分，剩餘鏈條會直接跳過。?-&gt;nullnull</p>
<p>此操作的結果，類似於在每次訪問前使用</p>
<h5 id="12-nullsafe-操作符">12. Nullsafe 操作符</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>

<span style="color:#60a0b0;font-style:italic">// 自 PHP 8.0.0 起可用
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$result</span> <span style="color:#666">=</span> <span style="color:#bb60d5">$repository</span><span style="color:#666">?-&gt;</span><span style="color:#4070a0">getUser</span>(<span style="color:#40a070">5</span>)<span style="color:#666">?-&gt;</span><span style="color:#4070a0">name</span>;

<span style="color:#60a0b0;font-style:italic">// 上面的code和下面相同
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">if</span> (is_null(<span style="color:#bb60d5">$repository</span>)) {
    <span style="color:#bb60d5">$result</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">null</span>;
} <span style="color:#007020;font-weight:bold">else</span> {
    <span style="color:#bb60d5">$user</span> <span style="color:#666">=</span> <span style="color:#bb60d5">$repository</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">getUser</span>(<span style="color:#40a070">5</span>);
    <span style="color:#007020;font-weight:bold">if</span> (is_null(<span style="color:#bb60d5">$user</span>)) {
        <span style="color:#bb60d5">$result</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">null</span>;
    } <span style="color:#007020;font-weight:bold">else</span> {
        <span style="color:#bb60d5">$result</span> <span style="color:#666">=</span> <span style="color:#bb60d5">$user</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">name</span>;
    }
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>:::warning
注意</p>
<p>僅當 null 被認為是屬性或方法返回的有效和預期的可能值時，才推薦使用 nullsafe 操作符。如果業務中需要明確指示錯誤，拋出異常會是更好的處理方式。
:::</p>
<hr>
<h3 id="class-屬性">class 屬性</h3>
<p>類的變量成員叫做“屬性”，或者叫“字段”、“特徵”，在 PHP 文檔統一稱為“屬性”。屬性聲明是由關鍵字 public(公開)，protected(非公開) 或者 private(私有) 開頭，然後跟一個普通的變量聲明來組成。屬性中的變量可以初始化，但是初始化的值必須是常數，這裡的常數是指 PHP 腳本在編譯階段時就可以得到其值，而不依賴於運行時的信息才能求值。</p>
<p>在類的成員方法裡面，可以用 -&gt;（對象運算符）：$this-&gt;property（其中 property 是該屬性名）這種方式來訪問非靜態屬性。</p>
<p>靜態屬性則是用 ::（雙冒號）：self::$property 來訪問。</p>
<p>以下為屬性聲明範例</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">SimpleClass</span>
{
   <span style="color:#60a0b0;font-style:italic">// 錯誤的屬性聲明
</span><span style="color:#60a0b0;font-style:italic"></span>   <span style="color:#007020;font-weight:bold">public</span> <span style="color:#bb60d5">$var1</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;hello &#39;</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#39;world&#39;</span>;
   <span style="color:#007020;font-weight:bold">public</span> <span style="color:#bb60d5">$var2</span> <span style="color:#666">=</span> <span style="color:#4070a0">&lt;&lt;&lt;</span><span style="color:#4070a0">EOD</span><span style="color:#4070a0">
</span><span style="color:#4070a0">hello world
</span><span style="color:#4070a0"></span><span style="color:#4070a0">EOD</span>;
   <span style="color:#007020;font-weight:bold">public</span> <span style="color:#bb60d5">$var3</span> <span style="color:#666">=</span> <span style="color:#40a070">1</span><span style="color:#666">+</span><span style="color:#40a070">2</span>;
   <span style="color:#007020;font-weight:bold">public</span> <span style="color:#bb60d5">$var4</span> <span style="color:#666">=</span> self<span style="color:#666">::</span><span style="color:#4070a0">myStaticMethod</span>();
   <span style="color:#007020;font-weight:bold">public</span> <span style="color:#bb60d5">$var5</span> <span style="color:#666">=</span> <span style="color:#bb60d5">$myVar</span>;

   <span style="color:#60a0b0;font-style:italic">// 正確的屬性聲明
</span><span style="color:#60a0b0;font-style:italic"></span>   <span style="color:#007020;font-weight:bold">public</span> <span style="color:#bb60d5">$var6</span> <span style="color:#666">=</span> myConstant;
   <span style="color:#007020;font-weight:bold">public</span> <span style="color:#bb60d5">$var7</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">array</span>(<span style="color:#007020;font-weight:bold">true</span>, <span style="color:#007020;font-weight:bold">false</span>);

   <span style="color:#60a0b0;font-style:italic">//在 PHP 5.3.0 及之後，下面的聲明也正確
</span><span style="color:#60a0b0;font-style:italic"></span>   <span style="color:#007020;font-weight:bold">public</span> <span style="color:#bb60d5">$var8</span> <span style="color:#666">=</span> <span style="color:#4070a0">&lt;&lt;&lt;&#39;</span><span style="color:#4070a0">EOD</span><span style="color:#4070a0">&#39;
</span><span style="color:#4070a0">hello world
</span><span style="color:#4070a0"></span><span style="color:#4070a0">EOD</span>;
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="類常量">類常量</h3>
<p>可以把在類中始終保持不變的值定義為常量。在定義和使用常量的時候不需要使用 $ 符號。 常量的值必須是一個定值，不能是變量，類屬性，數學運算的結果或函數調用。</p>
<p>如何定義和使用類常量，查看以下範例</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">MyClass</span>
{
    <span style="color:#007020;font-weight:bold">const</span> <span style="color:#60add5">constant</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;constant value&#39;</span>;

    <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">showConstant</span>() {
        <span style="color:#007020;font-weight:bold">echo</span>  self<span style="color:#666">::</span><span style="color:#4070a0">constant</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }
}

<span style="color:#007020;font-weight:bold">echo</span> MyClass<span style="color:#666">::</span><span style="color:#4070a0">constant</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;

<span style="color:#bb60d5">$classname</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#34;MyClass&#34;</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$classname</span><span style="color:#666">::</span><span style="color:#4070a0">constant</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>; <span style="color:#60a0b0;font-style:italic">// 自 5.3.0 起
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#bb60d5">$class</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> MyClass();
<span style="color:#bb60d5">$class</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">showConstant</span>();

<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$class</span><span style="color:#666">::</span><span style="color:#4070a0">constant</span><span style="color:#666">.</span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>; <span style="color:#60a0b0;font-style:italic">// 自 PHP 5.3.0 起
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><hr>
<h3 id="類的自動加載">類的自動加載</h3>
<p>在編寫有關於對象（OOP） 程序時，很多開發者為每個類新建一個 PHP 文件。這會帶來一個煩惱：每個腳本的開頭，都需要包含（include）一個長長的列表（每個類都有個文件）。</p>
<p>在 PHP 5 中，已經不再需要這樣了。 spl_autoload_register() 函數可以註冊任意數量的自動加載器，當使用尚未被定義的類（class）和接口（interface）時自動去加載。通過註冊自動加載器，腳本引擎在 PHP 出錯失敗前有了最後一個機會加載所需的類。</p>
<p>:::info
儘管 **autoload() 函數也能自動加載類和接口，但更建議使用 spl_autoload_register() 函數。 spl_autoload_register() 提供了一種更加靈活的方式來實現類的自動加載（同一個應用中，可以支持任意數量的加載器，比如第三方庫中的）。因此，不再建議使用 **autoload() 函數，在以後的版本中它可能被棄用
:::</p>
<h5 id="1-自動加載範例">1. 自動加載範例</h5>
<p>本例嘗試分別從 MyClass1.php 和 MyClass2.php 文件中加載 MyClass1 和 MyClass2 類。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
spl_autoload_register(<span style="color:#007020;font-weight:bold">function</span> (<span style="color:#bb60d5">$class_name</span>) {
    <span style="color:#007020;font-weight:bold">require_once</span> <span style="color:#bb60d5">$class_name</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#39;.php&#39;</span>;
});

<span style="color:#bb60d5">$obj</span>  <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> MyClass1();
<span style="color:#bb60d5">$obj2</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> MyClass2();
<span style="color:#007020">?&gt;</span>
</code></pre></div><h5 id="2-自動加載在-php-530-中的異常處理">2. 自動加載在 PHP 5.3.0+ 中的異常處理</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
spl_autoload_register(<span style="color:#007020;font-weight:bold">function</span> (<span style="color:#bb60d5">$name</span>) {
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Want to load </span><span style="color:#70a0d0;font-style:italic">$name</span><span style="color:#4070a0">.</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    <span style="color:#007020;font-weight:bold">throw</span> <span style="color:#007020;font-weight:bold">new</span> Exception(<span style="color:#4070a0">&#34;Unable to load </span><span style="color:#70a0d0;font-style:italic">$name</span><span style="color:#4070a0">.&#34;</span>);
});

<span style="color:#007020;font-weight:bold">try</span> {
    <span style="color:#bb60d5">$obj</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> NonLoadableClass();
} <span style="color:#007020;font-weight:bold">catch</span> (Exception <span style="color:#bb60d5">$e</span>) {
    <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$e</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">getMessage</span>(), <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
}
<span style="color:#007020">?&gt;</span>

// Want to load NonLoadableClass.
// Unable to load NonLoadableClass.
</code></pre></div><h3 id="構造函數和析構函數">構造函數和析構函數</h3>
<h4 id="構造函數">構造函數</h4>
<p><code>__construct(mixed ...$values = &quot;&quot;): void</code></p>
<p>PHP 允許開發者在一個類中定義一個方法作為構造函數。具有構造函數的類會在每次創建新對象時先調用此方法，所以非常適合在使用對象之前做一些初始化工作</p>
<p>:::warning
注意: 如果子類中定義了構造函數則不會隱式調用其父類的構造函數。要執行父類的構造函數，需要在子類的構造函數中調用 parent::__construct()。如果子類沒有定義構造函數則會如同一個普通的類方法一樣從父類繼承（假如沒有被定義為 private 的話）。
:::</p>
<h5 id="1-繼承中的構造函數">1. 繼承中的構造函數</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">BaseClass</span> {
    <span style="color:#007020;font-weight:bold">function</span> __construct() {
        <span style="color:#007020;font-weight:bold">print</span> <span style="color:#4070a0">&#34;In BaseClass constructor</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }
}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">SubClass</span> <span style="color:#007020;font-weight:bold">extends</span> BaseClass {
    <span style="color:#007020;font-weight:bold">function</span> __construct() {
        <span style="color:#007020;font-weight:bold">parent</span><span style="color:#666">::</span><span style="color:#4070a0">__construct</span>();
        <span style="color:#007020;font-weight:bold">print</span> <span style="color:#4070a0">&#34;In SubClass constructor</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }
}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">OtherSubClass</span> <span style="color:#007020;font-weight:bold">extends</span> BaseClass {
    <span style="color:#60a0b0;font-style:italic">// 繼承 BaseClass 的構造函數
</span><span style="color:#60a0b0;font-style:italic"></span>}

<span style="color:#60a0b0;font-style:italic">// In BaseClass constructor
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$obj</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> BaseClass();

<span style="color:#60a0b0;font-style:italic">// In BaseClass constructor
</span><span style="color:#60a0b0;font-style:italic">// In SubClass constructor
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$obj</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> SubClass();

<span style="color:#60a0b0;font-style:italic">// In BaseClass constructor
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$obj</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> OtherSubClass();
<span style="color:#007020">?&gt;</span>
</code></pre></div><h5 id="2-構造器函數">2. 構造器函數</h5>
<p>因此可以定義任何數量的參數，可以是必選、可以有類型、可以有默認值。構造器的參數放在類名後的括號裡調用。</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Point</span> {
    <span style="color:#007020;font-weight:bold">protected</span> int <span style="color:#bb60d5">$x</span>;
    <span style="color:#007020;font-weight:bold">protected</span> int <span style="color:#bb60d5">$y</span>;

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> __construct(int <span style="color:#bb60d5">$x</span>, int <span style="color:#bb60d5">$y</span> <span style="color:#666">=</span> <span style="color:#40a070">0</span>) {
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">x</span> <span style="color:#666">=</span> <span style="color:#bb60d5">$x</span>;
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">y</span> <span style="color:#666">=</span> <span style="color:#bb60d5">$y</span>;
    }
}

<span style="color:#60a0b0;font-style:italic">// 兩個參數都傳入
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$p1</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> Point(<span style="color:#40a070">4</span>, <span style="color:#40a070">5</span>);
<span style="color:#60a0b0;font-style:italic">// 僅傳入必填的參數。 $y 會默認為0。
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$p2</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> Point(<span style="color:#40a070">4</span>);
<span style="color:#60a0b0;font-style:italic">// 使用命名參數（PHP 8.0 起）:
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$p3</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> Point(y<span style="color:#666">:</span> <span style="color:#40a070">5</span>, x<span style="color:#666">:</span> <span style="color:#40a070">4</span>);
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>如果一個類沒有構造函數，以及構造函數的參數不是必填項時，括號就可以省略。</p>
<h4 id="析構函數">析構函數</h4>
<p><code>__destruct(): void</code></p>
<h5 id="1-析構函數範例">1. 析構函數範例</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">MyDestructableClass</span>
{
    <span style="color:#007020;font-weight:bold">function</span> __construct() {
        <span style="color:#007020;font-weight:bold">print</span> <span style="color:#4070a0">&#34;In constructor</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }

    <span style="color:#007020;font-weight:bold">function</span> __destruct() {
        <span style="color:#007020;font-weight:bold">print</span> <span style="color:#4070a0">&#34;Destroying &#34;</span> <span style="color:#666">.</span> <span style="color:#60add5">__CLASS__</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }
}

<span style="color:#bb60d5">$obj</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> MyDestructableClass();
</code></pre></div><p>和構造函數一樣，父類的析構函數不會被引擎暗中調用。要執行父類的析構函數，必須在子類的析構函數體中顯式調用 parent::__destruct()。</p>
<p>此外也和構造函數一樣，子類如果自己沒有定義析構函數則會繼承父類的。 析構函數即使在使用 exit() 終止腳本運行時也會被調用。</p>
<p>在析構函數中調用 exit() 將會中止其餘關閉操作的運行。</p>
<p>:::warning
注意: 析構函數在腳本關閉時調用，此時所有的 HTTP 頭信息已經發出。腳本關閉時的工作目錄有可能和在 SAPI（如 apache）中時不同
:::</p>
<p>:::warning
注意: 試圖在析構函數（在腳本終止時被調用）中拋出一個異常會導致致命錯誤。
:::</p>
<hr>
<h3 id="訪問控制可見性">訪問控制(可見性)</h3>
<p>對屬性或方法的訪問控制（PHP 7.1.0 以後支持常量），通過在前面添加關鍵字 public（公有），protected（受保護）或 private（私有）來實現的。</p>
<p>被定義為公有的類成員可以在任何地方被訪問。被定義為受保護的類成員則可以被其自身以及其子類和父類訪問。被定義為私有的類成員則只能被其定義所在的類訪問。</p>
<h4 id="屬性的訪問控制">屬性的訪問控制</h4>
<h5 id="1-屬性聲明">1. 屬性聲明</h5>
<p>類屬性必須定義為公有，受保護，私有之一。如果用 var 定義，則被視為公有</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#4070a0;font-style:italic">/**
</span><span style="color:#4070a0;font-style:italic"> * Define MyClass
</span><span style="color:#4070a0;font-style:italic"> */</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">MyClass</span>
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#bb60d5">$public</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;Public&#39;</span>;
    <span style="color:#007020;font-weight:bold">protected</span> <span style="color:#bb60d5">$protected</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;Protected&#39;</span>;
    <span style="color:#007020;font-weight:bold">private</span> <span style="color:#bb60d5">$private</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;Private&#39;</span>;

    <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">printHello</span>()
    {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">public</span>;
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">protected</span>;
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">private</span>;
    }
}

<span style="color:#bb60d5">$obj</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> MyClass();
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$obj</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">public</span>; <span style="color:#60a0b0;font-style:italic">// 這行能被正常執行
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$obj</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">protected</span>; <span style="color:#60a0b0;font-style:italic">// 這行會產生一個致命錯誤
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$obj</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">private</span>; <span style="color:#60a0b0;font-style:italic">// 這行也會產生一個致命錯誤
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$obj</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">printHello</span>(); <span style="color:#60a0b0;font-style:italic">// 輸出 Public、Protected 和 Private
</span><span style="color:#60a0b0;font-style:italic"></span>

<span style="color:#4070a0;font-style:italic">/**
</span><span style="color:#4070a0;font-style:italic"> * Define MyClass2
</span><span style="color:#4070a0;font-style:italic"> */</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">MyClass2</span> <span style="color:#007020;font-weight:bold">extends</span> MyClass
{
    <span style="color:#60a0b0;font-style:italic">// 可以對 public 和 protected 進行重定義，但 private 而不能
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#bb60d5">$public</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;Public2&#39;</span>;
    <span style="color:#007020;font-weight:bold">protected</span> <span style="color:#bb60d5">$protected</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;Protected2&#39;</span>;

    <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">printHello</span>()
    {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">public</span>;
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">protected</span>;
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">private</span>;
    }
}

<span style="color:#bb60d5">$obj2</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> MyClass2();
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$obj2</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">public</span>; <span style="color:#60a0b0;font-style:italic">// 這行能被正常執行
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$obj2</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">protected</span>; <span style="color:#60a0b0;font-style:italic">// 這行會產生一個致命錯誤
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$obj2</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">private</span>; <span style="color:#60a0b0;font-style:italic">// 未定義 private
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$obj2</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">printHello</span>(); <span style="color:#60a0b0;font-style:italic">// 輸出 Public2、Protected2 和 Undefined
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="方法的訪問控制">方法的訪問控制</h4>
<h5 id="方法聲明">方法聲明</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#4070a0;font-style:italic">/**
</span><span style="color:#4070a0;font-style:italic"> * Define MyClass
</span><span style="color:#4070a0;font-style:italic"> */</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">MyClass</span>
{
    <span style="color:#60a0b0;font-style:italic">// 聲明一個公有的構造函數
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> __construct() { }

    <span style="color:#60a0b0;font-style:italic">// 聲明一個公有的方法
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">MyPublic</span>() { }

    <span style="color:#60a0b0;font-style:italic">// 聲明一個受保護的方法
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">protected</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">MyProtected</span>() { }

    <span style="color:#60a0b0;font-style:italic">// 聲明一個私有的方法
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">private</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">MyPrivate</span>() { }

    <span style="color:#60a0b0;font-style:italic">// 預設為公開方法
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">Foo</span>()
    {
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">MyPublic</span>();
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">MyProtected</span>();
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">MyPrivate</span>();
    }
}

<span style="color:#bb60d5">$myclass</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> MyClass;
<span style="color:#bb60d5">$myclass</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">MyPublic</span>(); <span style="color:#60a0b0;font-style:italic">// 這行能被正常執行
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$myclass</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">MyProtected</span>(); <span style="color:#60a0b0;font-style:italic">// 會出現致命錯誤
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$myclass</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">MyPrivate</span>(); <span style="color:#60a0b0;font-style:italic">// 會出現致命錯誤
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$myclass</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">Foo</span>(); <span style="color:#60a0b0;font-style:italic">// 公有，受保護，私有都可以執行
</span><span style="color:#60a0b0;font-style:italic"></span>

<span style="color:#4070a0;font-style:italic">/**
</span><span style="color:#4070a0;font-style:italic"> * Define MyClass2
</span><span style="color:#4070a0;font-style:italic"> */</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">MyClass2</span> <span style="color:#007020;font-weight:bold">extends</span> MyClass
{
    <span style="color:#60a0b0;font-style:italic">// 為公開的函數
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">Foo2</span>()
    {
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">MyPublic</span>();
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">MyProtected</span>();
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">MyPrivate</span>(); <span style="color:#60a0b0;font-style:italic">// 會發生錯誤
</span><span style="color:#60a0b0;font-style:italic"></span>    }
}

<span style="color:#bb60d5">$myclass2</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> MyClass2;
<span style="color:#bb60d5">$myclass2</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">MyPublic</span>(); <span style="color:#60a0b0;font-style:italic">// 这行能被正常执行
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$myclass2</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">Foo2</span>(); <span style="color:#60a0b0;font-style:italic">// 公有，受保護，私有不可執行只能在原class裡執行
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Bar</span>
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">test</span>() {
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">testPrivate</span>();
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">testPublic</span>();
    }

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">testPublic</span>() {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Bar::testPublic</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }

    <span style="color:#007020;font-weight:bold">private</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">testPrivate</span>() {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Bar::testPrivate</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }
}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Foo</span> <span style="color:#007020;font-weight:bold">extends</span> Bar
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">testPublic</span>() {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Foo::testPublic</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }

    <span style="color:#007020;font-weight:bold">private</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">testPrivate</span>() {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;Foo::testPrivate</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }
}

<span style="color:#bb60d5">$myFoo</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> foo();
<span style="color:#bb60d5">$myFoo</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">test</span>(); <span style="color:#60a0b0;font-style:italic">// Bar::testPrivate
</span><span style="color:#60a0b0;font-style:italic"></span>                <span style="color:#60a0b0;font-style:italic">// Foo::testPublic
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="常量的控制訪問">常量的控制訪問</h4>
<h5 id="php-71-up-中常量聲明">php 7.1 up 中常量聲明</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#4070a0;font-style:italic">/**
</span><span style="color:#4070a0;font-style:italic"> * Define MyClass
</span><span style="color:#4070a0;font-style:italic"> */</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">MyClass</span>
{
    <span style="color:#60a0b0;font-style:italic">// 公有常量
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">const</span> <span style="color:#60add5">MY_PUBLIC</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;public&#39;</span>;

    <span style="color:#60a0b0;font-style:italic">// 受保護的常量
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">protected</span> <span style="color:#007020;font-weight:bold">const</span> <span style="color:#60add5">MY_PROTECTED</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;protected&#39;</span>;

    <span style="color:#60a0b0;font-style:italic">// 私有常量
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">private</span> <span style="color:#007020;font-weight:bold">const</span> <span style="color:#60add5">MY_PRIVATE</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;private&#39;</span>;

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>()
    {
        <span style="color:#007020;font-weight:bold">echo</span> self<span style="color:#666">::</span><span style="color:#4070a0">MY_PUBLIC</span>;
        <span style="color:#007020;font-weight:bold">echo</span> self<span style="color:#666">::</span><span style="color:#4070a0">MY_PROTECTED</span>;
        <span style="color:#007020;font-weight:bold">echo</span> self<span style="color:#666">::</span><span style="color:#4070a0">MY_PRIVATE</span>;
    }
}

<span style="color:#bb60d5">$myclass</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> MyClass();
MyClass<span style="color:#666">::</span><span style="color:#4070a0">MY_PUBLIC</span>; <span style="color:#60a0b0;font-style:italic">// 這行可以正常執行
</span><span style="color:#60a0b0;font-style:italic"></span>MyClass<span style="color:#666">::</span><span style="color:#4070a0">MY_PROTECTED</span>; <span style="color:#60a0b0;font-style:italic">// 這行會產生一個致命錯誤
</span><span style="color:#60a0b0;font-style:italic"></span>MyClass<span style="color:#666">::</span><span style="color:#4070a0">MY_PRIVATE</span>; <span style="color:#60a0b0;font-style:italic">// 這行會產生一個致命錯誤
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$myclass</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">foo</span>(); <span style="color:#60a0b0;font-style:italic">// 將會輸出：Public Protected Private
</span><span style="color:#60a0b0;font-style:italic"></span>

<span style="color:#4070a0;font-style:italic">/**
</span><span style="color:#4070a0;font-style:italic"> * Define MyClass2
</span><span style="color:#4070a0;font-style:italic"> */</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">MyClass2</span> <span style="color:#007020;font-weight:bold">extends</span> MyClass
{
    <span style="color:#60a0b0;font-style:italic">// This is public
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo2</span>()
    {
        <span style="color:#007020;font-weight:bold">echo</span> self<span style="color:#666">::</span><span style="color:#4070a0">MY_PUBLIC</span>;
        <span style="color:#007020;font-weight:bold">echo</span> self<span style="color:#666">::</span><span style="color:#4070a0">MY_PROTECTED</span>;
        <span style="color:#007020;font-weight:bold">echo</span> self<span style="color:#666">::</span><span style="color:#4070a0">MY_PRIVATE</span>; <span style="color:#60a0b0;font-style:italic">// 這行會產生一個致命錯誤
</span><span style="color:#60a0b0;font-style:italic"></span>    }
}

<span style="color:#bb60d5">$myclass2</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> MyClass2;
<span style="color:#007020;font-weight:bold">echo</span> MyClass2<span style="color:#666">::</span><span style="color:#4070a0">MY_PUBLIC</span>; <span style="color:#60a0b0;font-style:italic">// 這行可以正常執行
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#bb60d5">$myclass2</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">foo2</span>(); <span style="color:#60a0b0;font-style:italic">// 將會輸出：Public Protected，MY_PRIVATE 是私有常量，無法輸出
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="其他對象的訪問控制">其他對象的訪問控制</h4>
<h5 id="訪問同一個對像類型的私有成員">訪問同一個對像類型的私有成員</h5>
<p>同一個類的對象即使不是同一個實例也可以互相訪問對方的私有與受保護成員。這是由於在這些對象的內部具體實現的細節都是已知的</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Test</span>
{
    <span style="color:#007020;font-weight:bold">private</span> <span style="color:#bb60d5">$foo</span>;

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> __construct(<span style="color:#bb60d5">$foo</span>)
    {
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">foo</span> <span style="color:#666">=</span> <span style="color:#bb60d5">$foo</span>;
    }

    <span style="color:#007020;font-weight:bold">private</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">bar</span>()
    {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#39;Accessed the private method.&#39;</span>;
    }

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">baz</span>(Test <span style="color:#bb60d5">$other</span>)
    {
        <span style="color:#60a0b0;font-style:italic">// We can change the private property:
</span><span style="color:#60a0b0;font-style:italic"></span>        <span style="color:#bb60d5">$other</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">foo</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;hello&#39;</span>;
        var_dump(<span style="color:#bb60d5">$other</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">foo</span>);

        <span style="color:#60a0b0;font-style:italic">// We can also call the private method:
</span><span style="color:#60a0b0;font-style:italic"></span>        <span style="color:#bb60d5">$other</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">bar</span>();
    }
}

<span style="color:#bb60d5">$test</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> Test(<span style="color:#4070a0">&#39;test&#39;</span>);

<span style="color:#bb60d5">$test</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">baz</span>(<span style="color:#007020;font-weight:bold">new</span> Test(<span style="color:#4070a0">&#39;other&#39;</span>));
<span style="color:#007020">?&gt;</span>

// outputs
// string(5) &#34;hello&#34;
// Accessed the private method.
</code></pre></div><h3 id="範圍解析操作符">範圍解析操作符(::)</h3>
<p>php 可以利用這一對冒號來訪問靜態成員，類常量，還可以用於覆蓋類中的屬性和方法</p>
<h5 id="在類的外部使用--操作符">在類的外部使用 :: 操作符</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">MyClass</span> {
    <span style="color:#007020;font-weight:bold">const</span> <span style="color:#60add5">CONST_VALUE</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;A constant value&#39;</span>;
}

<span style="color:#bb60d5">$classname</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;MyClass&#39;</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$classname</span><span style="color:#666">::</span><span style="color:#4070a0">CONST_VALUE</span>; <span style="color:#60a0b0;font-style:italic">// 自 PHP 5.3.0 起
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#007020;font-weight:bold">echo</span> MyClass<span style="color:#666">::</span><span style="color:#4070a0">CONST_VALUE</span>;
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>self，parent 和 static 這三個特殊的關鍵字是用於在類定義的內部對其屬性或方法進行訪問的。</p>
<h5 id="在類定義內部使用-">在類定義內部使用 ::</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">OtherClass</span> <span style="color:#007020;font-weight:bold">extends</span> MyClass
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">static</span> <span style="color:#bb60d5">$my_static</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;static var&#39;</span>;

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">static</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">doubleColon</span>() {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#007020;font-weight:bold">parent</span><span style="color:#666">::</span><span style="color:#4070a0">CONST_VALUE</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
        <span style="color:#007020;font-weight:bold">echo</span> self<span style="color:#666">::</span><span style="color:#bb60d5">$my_static</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }
}

<span style="color:#bb60d5">$classname</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;OtherClass&#39;</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$classname</span><span style="color:#666">::</span><span style="color:#4070a0">doubleColon</span>(); <span style="color:#60a0b0;font-style:italic">// 自 PHP 5.3.0 起
</span><span style="color:#60a0b0;font-style:italic"></span>
OtherClass<span style="color:#666">::</span><span style="color:#4070a0">doubleColon</span>();
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>當一個子類覆蓋其父類中的方法時，PHP 不會調用父類中已被覆蓋的方法。是否調用父類的方法取決於子類。這種機制也作用於構造函數和析構函數，重載以及魔術方法。</p>
<h5 id="調用父類的方法">調用父類的方法</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">MyClass</span>
{
    <span style="color:#007020;font-weight:bold">protected</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">myFunc</span>() {
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;MyClass::myFunc()</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }
}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">OtherClass</span> <span style="color:#007020;font-weight:bold">extends</span> MyClass
{
    <span style="color:#60a0b0;font-style:italic">// 覆蓋了父類定義
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">myFunc</span>()
    {
        <span style="color:#60a0b0;font-style:italic">// 但還是可以調用父類中被覆盖的方法
</span><span style="color:#60a0b0;font-style:italic"></span>        <span style="color:#007020;font-weight:bold">parent</span><span style="color:#666">::</span><span style="color:#4070a0">myFunc</span>();
        <span style="color:#007020;font-weight:bold">echo</span> <span style="color:#4070a0">&#34;OtherClass::myFunc()</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }
}

<span style="color:#bb60d5">$class</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> OtherClass();
<span style="color:#bb60d5">$class</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">myFunc</span>();
<span style="color:#007020">?&gt;</span>
</code></pre></div><h3 id="靜態static關鍵字">靜態(static)關鍵字</h3>
<p>聲明類屬性或方法為靜態，就可以不實例化類而直接訪問。靜態屬性不能通過一個類已實例化的對象來訪問（但靜態方法可以）</p>
<h4 id="靜態方法">靜態方法</h4>
<h5 id="靜態方法示例">靜態方法示例</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Foo</span> {
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">static</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">aStaticMethod</span>() {
        <span style="color:#60a0b0;font-style:italic">// ...
</span><span style="color:#60a0b0;font-style:italic"></span>    }
}

Foo<span style="color:#666">::</span><span style="color:#4070a0">aStaticMethod</span>();
<span style="color:#bb60d5">$classname</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;Foo&#39;</span>;
<span style="color:#bb60d5">$classname</span><span style="color:#666">::</span><span style="color:#4070a0">aStaticMethod</span>();
<span style="color:#007020">?&gt;</span>
</code></pre></div><h4 id="靜態屬性">靜態屬性</h4>
<p>靜態屬性不可以由對象通過 -&gt; 操作符來訪問。 就像其它所有的 PHP 靜態變量一樣，靜態屬性在初始化時遵循和 const 表達式一樣的規則： 有一些特定的表達式是可行的，取決於它們是否能在編譯時就計算出值。 通過變量來引用一個類是可行的，但這個變量的值不能是一個保留字 （例如 self，parent 和 static）</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Foo</span>
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">static</span> <span style="color:#bb60d5">$my_static</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;foo&#39;</span>;

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">staticValue</span>() {
        <span style="color:#007020;font-weight:bold">return</span> self<span style="color:#666">::</span><span style="color:#bb60d5">$my_static</span>;
    }
}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Bar</span> <span style="color:#007020;font-weight:bold">extends</span> Foo
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">fooStatic</span>() {
        <span style="color:#007020;font-weight:bold">return</span> <span style="color:#007020;font-weight:bold">parent</span><span style="color:#666">::</span><span style="color:#bb60d5">$my_static</span>;
    }
}


<span style="color:#007020;font-weight:bold">print</span> Foo<span style="color:#666">::</span><span style="color:#bb60d5">$my_static</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;

<span style="color:#bb60d5">$foo</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> Foo();
<span style="color:#007020;font-weight:bold">print</span> <span style="color:#bb60d5">$foo</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">staticValue</span>() <span style="color:#666">.</span> <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#007020;font-weight:bold">print</span> <span style="color:#bb60d5">$foo</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">my_static</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;      <span style="color:#60a0b0;font-style:italic">// 未定義的 &#34;屬性&#34; my_static
</span><span style="color:#60a0b0;font-style:italic"></span>
<span style="color:#007020;font-weight:bold">print</span> <span style="color:#bb60d5">$foo</span><span style="color:#666">::</span><span style="color:#bb60d5">$my_static</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#bb60d5">$classname</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;Foo&#39;</span>;
<span style="color:#007020;font-weight:bold">print</span> <span style="color:#bb60d5">$classname</span><span style="color:#666">::</span><span style="color:#bb60d5">$my_static</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;

<span style="color:#007020;font-weight:bold">print</span> Bar<span style="color:#666">::</span><span style="color:#bb60d5">$my_static</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#bb60d5">$bar</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> Bar();
<span style="color:#007020;font-weight:bold">print</span> <span style="color:#bb60d5">$bar</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">fooStatic</span>() <span style="color:#666">.</span> <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#007020">?&gt;</span>
</code></pre></div><h3 id="抽象類">抽象類</h3>
<p>PHP 也支援抽象類的和抽象方法，被定義為抽象類的方法不能被實體化，在任何一個類別中，
如果他至少有一個方法被聲明為抽象，那這個類必須要被聲明為抽象類。被定義為抽象類的方法只能聲明他該怎麼使用，不能定義具體功能實現。</p>
<p>當有類別繼承抽象類別時，子類別必須要定義父類別中的所以抽象方法，另外，這些方法的訪問控制必須和父類中一樣（或者更為寬鬆）。例如某個抽象方法是被聲明為受保護的，那麼子類中實現的方法就應該聲明為受保護的或者公有的，而不能定義為私有的。</p>
<p>此外方法的調用方式必須匹配，即類型和所需參數數量必須一致。例如，子類定義了一個可選參數，而父類抽象方法的聲明里沒有，則兩者的聲明並無衝突。</p>
<blockquote>
<p>這也適用於 PHP 5.4 起的構造函數。在 PHP 5.4 之前的構造函數聲明可以不一樣的。</p>
</blockquote>
<h4 id="1-抽象類範例-1">1. 抽象類範例 1</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">abstract</span> <span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">AbstractClass</span>
{
 <span style="color:#60a0b0;font-style:italic">// 子類必須定義這些方法，否則會出錯
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">abstract</span> <span style="color:#007020;font-weight:bold">protected</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">getValue</span>();
    <span style="color:#007020;font-weight:bold">abstract</span> <span style="color:#007020;font-weight:bold">protected</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">prefixValue</span>(<span style="color:#bb60d5">$prefix</span>);

    <span style="color:#60a0b0;font-style:italic">// 普通方法（非抽象方法）
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">printOut</span>() {
        <span style="color:#007020;font-weight:bold">print</span> <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">getValue</span>() <span style="color:#666">.</span> <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
    }
}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">ConcreteClass1</span> <span style="color:#007020;font-weight:bold">extends</span> AbstractClass
{
    <span style="color:#007020;font-weight:bold">protected</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">getValue</span>() {
        <span style="color:#007020;font-weight:bold">return</span> <span style="color:#4070a0">&#34;ConcreteClass1&#34;</span>;
    }

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">prefixValue</span>(<span style="color:#bb60d5">$prefix</span>) {
        <span style="color:#007020;font-weight:bold">return</span> <span style="color:#4070a0">&#34;</span><span style="color:#70a0d0;font-style:italic">{</span>$prefix<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">ConcreteClass1&#34;</span>;
    }
}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">ConcreteClass2</span> <span style="color:#007020;font-weight:bold">extends</span> AbstractClass
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">getValue</span>() {
        <span style="color:#007020;font-weight:bold">return</span> <span style="color:#4070a0">&#34;ConcreteClass2&#34;</span>;
    }

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">prefixValue</span>(<span style="color:#bb60d5">$prefix</span>) {
        <span style="color:#007020;font-weight:bold">return</span> <span style="color:#4070a0">&#34;</span><span style="color:#70a0d0;font-style:italic">{</span>$prefix<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">ConcreteClass2&#34;</span>;
    }
}

<span style="color:#bb60d5">$class1</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> ConcreteClass1;
<span style="color:#bb60d5">$class1</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">printOut</span>();
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$class1</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">prefixValue</span>(<span style="color:#4070a0">&#39;FOO_&#39;</span>) <span style="color:#666">.</span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;

<span style="color:#bb60d5">$class2</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> ConcreteClass2;
<span style="color:#bb60d5">$class2</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">printOut</span>();
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$class2</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">prefixValue</span>(<span style="color:#4070a0">&#39;FOO_&#39;</span>) <span style="color:#666">.</span><span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#007020">?&gt;</span>

// outputs
// ConcreteClass1
// FOO_ConcreteClass1
// ConcreteClass2
// FOO_ConcreteClass2
</code></pre></div><h4 id="2-抽象類範例-2">2. 抽象類範例 2</h4>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">abstract</span> <span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">AbstractClass</span>
{
    <span style="color:#60a0b0;font-style:italic">// 我们的抽象方法仅需要定义需要的参数
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">abstract</span> <span style="color:#007020;font-weight:bold">protected</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">prefixName</span>(<span style="color:#bb60d5">$name</span>);

}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">ConcreteClass</span> <span style="color:#007020;font-weight:bold">extends</span> AbstractClass
{

    <span style="color:#60a0b0;font-style:italic">// 子類的方法可以定義父類方法中不存在的可選參數，不衝突
</span><span style="color:#60a0b0;font-style:italic"></span>    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">prefixName</span>(<span style="color:#bb60d5">$name</span>, <span style="color:#bb60d5">$separator</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#34;.&#34;</span>) {
        <span style="color:#007020;font-weight:bold">if</span> (<span style="color:#bb60d5">$name</span> <span style="color:#666">==</span> <span style="color:#4070a0">&#34;Pacman&#34;</span>) {
            <span style="color:#bb60d5">$prefix</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#34;Mr&#34;</span>;
        } <span style="color:#007020;font-weight:bold">elseif</span> (<span style="color:#bb60d5">$name</span> <span style="color:#666">==</span> <span style="color:#4070a0">&#34;Pacwoman&#34;</span>) {
            <span style="color:#bb60d5">$prefix</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#34;Mrs&#34;</span>;
        } <span style="color:#007020;font-weight:bold">else</span> {
            <span style="color:#bb60d5">$prefix</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#34;&#34;</span>;
        }
        <span style="color:#007020;font-weight:bold">return</span> <span style="color:#4070a0">&#34;</span><span style="color:#70a0d0;font-style:italic">{</span>$prefix<span style="color:#70a0d0;font-style:italic">}{</span>$separator<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0"> </span><span style="color:#70a0d0;font-style:italic">{</span>$name<span style="color:#70a0d0;font-style:italic">}</span><span style="color:#4070a0">&#34;</span>;
    }
}

<span style="color:#bb60d5">$class</span> <span style="color:#666">=</span> <span style="color:#007020;font-weight:bold">new</span> ConcreteClass;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$class</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">prefixName</span>(<span style="color:#4070a0">&#34;Pacman&#34;</span>), <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#007020;font-weight:bold">echo</span> <span style="color:#bb60d5">$class</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">prefixName</span>(<span style="color:#4070a0">&#34;Pacwoman&#34;</span>), <span style="color:#4070a0">&#34;</span><span style="color:#4070a0;font-weight:bold">\n</span><span style="color:#4070a0">&#34;</span>;
<span style="color:#007020">?&gt;</span>

// outputs
// Mr. Pacman
// Mrs. Pacwoman
</code></pre></div><h3 id="interface-對象接口也稱介面">Interface 對象接口也稱介面</h3>
<p>使用介面（interface），可以指定某個類必須實現哪些方法，但不需要定義這些方法的具體內容。由於介面（interface）和類（class）、trait 共享了命名空間，所以它們不能重名。介面就像定義一個標準的類一樣，通過 interface 關鍵字替換掉 class 關鍵字來定義，但其中所有的方法都是空的。介面中定義的所有方法都必須是公有，這是介面的特性。在實踐中，往往出於兩個輔助目的使用介面： 因為實現了同一個介面，所以開發者創建的對象雖然源自不同的類，但可能可以交換使用。常用於多個數據庫的服務訪問、多個支付網關、不同的緩存策略等。可能不需要任何代碼修改，就能切換不同的實現方式。能夠讓函數與方法接受一個符合介面的參數，而不需要關心對像如何做、如何實現。這些介面常常命名成類似 Iterable、Cacheable、Renderable， 以便於體現出功能的含義。</p>
<p>:::warning
注意: 雖然沒有禁止，但是強烈建議不要在接口中使用 構造器。因為這樣在對象實現接口時，會大幅降低靈活性。此外，也不能強制確保構造器遵守繼承規則，將導致不可預料的行為結果。
:::</p>
<h4 id="實現-implements">實現 implements</h4>
<p>要使用一個介面，使用 implements 操作符。類中必須使用介面中定義的所有方法，否則會報一個致命錯誤。類可以實現多個接口，用逗號來分隔多個接口的名稱。</p>
<p>:::danger
警告：類使用（implement）兩個接口時，如果它們定義了相同名稱的方法，只有簽名相同的時候才是允許的。
:::</p>
<p>:::danger
警告：使用介面的時候，class 中的參數名稱不必和介面完全一致。然而， PHP 8.0 起語法開始支持命名參數， 也就是說調用方會依賴介面中參數的名稱。因此，強烈建議開發者的參數的命名，在類和介面中保持一致。
:::</p>
<p>:::warning
注意:接口也可以通過 extends 操作符繼承
:::</p>
<p>:::warning
注意:類實現介面時，必須以兼容的簽名定義介面中所有方法。
:::</p>
<h5 id="1-介面範例">1. 介面範例</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>

<span style="color:#60a0b0;font-style:italic">// 聲明一個&#39;Template&#39;介面
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">interface</span> Template
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">setVariable</span>(<span style="color:#bb60d5">$name</span>, <span style="color:#bb60d5">$var</span>);
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">getHtml</span>(<span style="color:#bb60d5">$template</span>);
}


<span style="color:#60a0b0;font-style:italic">// 使用介面
</span><span style="color:#60a0b0;font-style:italic">// 正確寫法如下
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">WorkingTemplate</span> <span style="color:#007020;font-weight:bold">implements</span> Template
{
    <span style="color:#007020;font-weight:bold">private</span> <span style="color:#bb60d5">$vars</span> <span style="color:#666">=</span> [];

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">setVariable</span>(<span style="color:#bb60d5">$name</span>, <span style="color:#bb60d5">$var</span>)
    {
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">vars</span>[<span style="color:#bb60d5">$name</span>] <span style="color:#666">=</span> <span style="color:#bb60d5">$var</span>;
    }

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">getHtml</span>(<span style="color:#bb60d5">$template</span>)
    {
        <span style="color:#007020;font-weight:bold">foreach</span>(<span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">vars</span> <span style="color:#007020;font-weight:bold">as</span> <span style="color:#bb60d5">$name</span> <span style="color:#666">=&gt;</span> <span style="color:#bb60d5">$value</span>) {
            <span style="color:#bb60d5">$template</span> <span style="color:#666">=</span> str_replace(<span style="color:#4070a0">&#39;{&#39;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">$name</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#39;}&#39;</span>, <span style="color:#bb60d5">$value</span>, <span style="color:#bb60d5">$template</span>);
        }

        <span style="color:#007020;font-weight:bold">return</span> <span style="color:#bb60d5">$template</span>;
    }
}

<span style="color:#60a0b0;font-style:italic">// 下面的寫法是錯誤的，會報錯，因為沒有使用到該介面方法 getHtml()：
</span><span style="color:#60a0b0;font-style:italic">// Fatal error: Class BadTemplate contains 1 abstract methods
</span><span style="color:#60a0b0;font-style:italic">// and must therefore be declared abstract (Template::getHtml)
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">BadTemplate</span> <span style="color:#007020;font-weight:bold">implements</span> Template
{
    <span style="color:#007020;font-weight:bold">private</span> <span style="color:#bb60d5">$vars</span> <span style="color:#666">=</span> [];

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">setVariable</span>(<span style="color:#bb60d5">$name</span>, <span style="color:#bb60d5">$var</span>)
    {
        <span style="color:#bb60d5">$this</span><span style="color:#666">-&gt;</span><span style="color:#4070a0">vars</span>[<span style="color:#bb60d5">$name</span>] <span style="color:#666">=</span> <span style="color:#bb60d5">$var</span>;
    }
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><h5 id="2-可擴充介面">2. 可擴充介面</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">interface</span> A
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>();
}

<span style="color:#007020;font-weight:bold">interface</span> B <span style="color:#007020;font-weight:bold">extends</span> A
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">baz</span>(Baz <span style="color:#bb60d5">$baz</span>);
}

<span style="color:#60a0b0;font-style:italic">// 正確寫法
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">C</span> <span style="color:#007020;font-weight:bold">implements</span> B
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>()
    {
    }

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">baz</span>(Baz <span style="color:#bb60d5">$baz</span>)
    {
    }
}

<span style="color:#60a0b0;font-style:italic">// 錯誤寫法導致致命錯誤
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">D</span> <span style="color:#007020;font-weight:bold">implements</span> B
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>()
    {
    }

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">baz</span>(Foo <span style="color:#bb60d5">$foo</span>) <span style="color:#60a0b0;font-style:italic">// 參考錯誤
</span><span style="color:#60a0b0;font-style:italic"></span>    {
    }
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><h5 id="3-拓展多介面">3. 拓展多介面</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">interface</span> A
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>();
}

<span style="color:#007020;font-weight:bold">interface</span> B
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">bar</span>();
}

<span style="color:#007020;font-weight:bold">interface</span> C <span style="color:#007020;font-weight:bold">extends</span> A, B
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">baz</span>();
}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">D</span> <span style="color:#007020;font-weight:bold">implements</span> C
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>()
    {
    }

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">bar</span>()
    {
    }

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">baz</span>()
    {
    }
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><h5 id="4-使用介面常量">4. 使用介面常量</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">interface</span> A
{
    <span style="color:#007020;font-weight:bold">const</span> <span style="color:#60add5">B</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;Interface constant&#39;</span>;
}

<span style="color:#60a0b0;font-style:italic">// 输出接口常量
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">echo</span> A<span style="color:#666">::</span><span style="color:#4070a0">B</span>;

<span style="color:#60a0b0;font-style:italic">// 錯誤寫法，因為常量不能被覆蓋。接口常量的概念和類常量是一樣的。
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">B</span> <span style="color:#007020;font-weight:bold">implements</span> A
{
    <span style="color:#007020;font-weight:bold">const</span> <span style="color:#60add5">B</span> <span style="color:#666">=</span> <span style="color:#4070a0">&#39;Class constant&#39;</span>;
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><h5 id="5-抽象abstract類的介面使用">5. 抽象（abstract）類的介面使用</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>
<span style="color:#007020;font-weight:bold">interface</span> A
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>(string <span style="color:#bb60d5">$s</span>)<span style="color:#666">:</span> string;

    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">bar</span>(int <span style="color:#bb60d5">$i</span>)<span style="color:#666">:</span> int;
}

<span style="color:#60a0b0;font-style:italic">//  抽象類可能僅實現了接口的一部分。
</span><span style="color:#60a0b0;font-style:italic">// 擴展該抽象類時必須實現剩餘部分
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">abstract</span> <span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">B</span> <span style="color:#007020;font-weight:bold">implements</span> A
{
    pubic <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">foo</span>(string <span style="color:#bb60d5">$s</span>)<span style="color:#666">:</span> string
    {
        <span style="color:#007020;font-weight:bold">return</span> <span style="color:#bb60d5">$s</span> <span style="color:#666">.</span> PHP_EOL;
    }
}

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">C</span> <span style="color:#007020;font-weight:bold">extends</span> B
{
    <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">function</span> <span style="color:#06287e">bar</span>(int <span style="color:#bb60d5">$i</span>)<span style="color:#666">:</span> int
    {
        <span style="color:#007020;font-weight:bold">return</span> <span style="color:#bb60d5">$i</span> <span style="color:#666">*</span> <span style="color:#40a070">2</span>;
    }
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><h5 id="6-同時使用繼承和介面">6. 同時使用繼承和介面</h5>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#007020">&lt;?php</span>

<span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">One</span>
{
    <span style="color:#60a0b0;font-style:italic">/* ... */</span>
}

<span style="color:#007020;font-weight:bold">interface</span> Usable
{
    <span style="color:#60a0b0;font-style:italic">/* ... */</span>
}

<span style="color:#007020;font-weight:bold">interface</span> Updatable
{
    <span style="color:#60a0b0;font-style:italic">/* ... */</span>
}

<span style="color:#60a0b0;font-style:italic">// 關鍵字順序至關重要： &#39;extends&#39; 必須在前面
</span><span style="color:#60a0b0;font-style:italic"></span><span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">Two</span> <span style="color:#007020;font-weight:bold">extends</span> One <span style="color:#007020;font-weight:bold">implements</span> Usable, Updatable
{
    <span style="color:#60a0b0;font-style:italic">/* ... */</span>
}
<span style="color:#007020">?&gt;</span>
</code></pre></div><p>資料來源: <a href="https://www.php.net/">https://www.php.net/</a></p>

        </div>

        
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "joe94113" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
    </div>
  </div>
</section>



<footer>
  <div class="container">
    <div class="row">
      <div class="col-12 text-center mb-5">
        <a href="https://hugo-blog-gamma.vercel.app/"><img src="https://hugo-blog-gamma.vercel.app/images/joelogo.png" alt="Joe&#39;s Blog"></a>
      </div>
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Contact Me</h6>
        <ul class="list-unstyled">
          <li class="mb-3"><a class="text-dark" href="tel:0970818779"><i
                class="ti-mobile mr-3 text-primary"></i>0970818779</a></li>
          <li class="mb-3"><i class="ti-location-pin mr-3 text-primary"></i>Tainan, Taiwan</li>
          <li class="mb-3"><a class="text-dark" href="mailto:joe94113@email.com"><i
                class="ti-email mr-3 text-primary"></i>joe94113@email.com</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Social Contacts</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="https://www.facebook.com/Blizzardsumme/">facebook</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://www.instagram.com/guan___zhi/?hl=zh-tw">instagram</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://github.com/joe94113">github</a></li>
          
        </ul>
      </div>
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Categories</h6>
        <ul class="list-unstyled">
          <li class="mb-3"><a class="text-dark"
              href="/categories/ajax">Ajax</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/html-css">Html css</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/javascript">Javascript</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/jquery">Jquery</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/laravel">Laravel</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/linux">Linux</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/mysql">Mysql</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/php">Php</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="/categories/python">Python</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-3 col-sm-6 mb-5">
        <h6 class="mb-4">Quick Links</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="https://hugo-blog-gamma.vercel.app/about">About</a></li>
          
        </ul>
      </div>
      <div class="col-12 border-top py-4 text-center">
        | copyright © 2020 <a href="https://themefisher.com">Themefisher</a> All Rights Reserved |
      </div>
    </div>
  </div>
</footer>

<script>
  var indexURL = "https://hugo-blog-gamma.vercel.app/index.json"
</script>

<!-- JS Plugins -->

<script src="https://hugo-blog-gamma.vercel.app/plugins/jQuery/jquery.min.js"></script>

<script src="https://hugo-blog-gamma.vercel.app/plugins/bootstrap/bootstrap.min.js"></script>

<script src="https://hugo-blog-gamma.vercel.app/plugins/slick/slick.min.js"></script>

<script src="https://hugo-blog-gamma.vercel.app/plugins/venobox/venobox.min.js"></script>

<script src="https://hugo-blog-gamma.vercel.app/plugins/search/fuse.min.js"></script>

<script src="https://hugo-blog-gamma.vercel.app/plugins/search/mark.js"></script>

<script src="https://hugo-blog-gamma.vercel.app/plugins/search/search.js"></script>

<!-- Main Script -->

<script src="https://hugo-blog-gamma.vercel.app/js/script.min.js"></script>
<!-- google analitycs -->
<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
      m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
  ga('create', '', 'auto');
  ga('send', 'pageview');
</script></body>
</html>